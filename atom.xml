<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hope_Y&#39;s blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-08-06T03:45:07.699Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Hope_Y</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>BSGS</title>
    <link href="http://yoursite.com/2019/08/05/BSGS/"/>
    <id>http://yoursite.com/2019/08/05/BSGS/</id>
    <published>2019-08-05T02:21:22.293Z</published>
    <updated>2019-08-06T03:45:07.699Z</updated>
    
    <content type="html"><![CDATA[<p>ç”¨äºè§£å†³$y^x \equiv z\ (mod\ p)$ï¼Œç»™å®š$y,z,p \geq 1$ï¼Œæ±‚è§£$x$ã€‚</p><a id="more"></a><p>å½“$gcd(y,p)=1$ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ‰å¯èƒ½ç»™å®š$p$ä¸ºè´¨æ•°ã€‚è®¾$x=a * m - b$ ï¼Œ$m= \lceil \sqrt p \rceil$ï¼Œ$ a \in [0,m+1)$ï¼Œ$b \in [0,m)$ï¼Œé‚£ä¹ˆåŸå¼å˜æˆ$y^{a * m}=z * y^{b}$ï¼Œå…ˆæšä¸¾$b$ï¼Œè®¡ç®—$z * y^{b}(mod\ p)$ï¼Œå­˜åˆ°$map$ä¸­ï¼Œå†æšä¸¾$a$å°±å¥½äº†ã€‚</p><h2 id="SDOI2011"><a href="#SDOI2011" class="headerlink" title="SDOI2011"></a><a href="https://www.lydsy.com/JudgeOnline/problem.php?id=2242" target="_blank" rel="noopener">SDOI2011</a></h2><p>é¢˜æ„ï¼šç»™å®š$y,z,p$ï¼Œè®¡ç®—1. $y^z (mod \ p)$ï¼›2. æ»¡è¶³$x * y \equiv z(mod \ p)$çš„æœ€å°éè´Ÿæ•´æ•°çš„$x$ï¼›3.æ»¡è¶³$y^x  \equiv  z\ (mod\ p)$çš„æœ€å°éè´Ÿæ•´æ•°çš„$x$ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line">ll y,z,p;</span><br><span class="line"><span class="function">ll <span class="title">qpow</span><span class="params">(ll x,ll n,ll mod)</span></span>&#123;</span><br><span class="line">    ll res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(n)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n&amp;<span class="number">1</span>) res=res*x%mod;</span><br><span class="line">        x=x*x%mod;</span><br><span class="line">        n&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">inv</span><span class="params">(ll x,ll mod)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> qpow(x,mod<span class="number">-2</span>,mod);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">nnot</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">"Orz, I cannot find x!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BSGS</span><span class="params">(ll x,ll y)</span></span>&#123;</span><br><span class="line">    <span class="built_in">map</span>&lt;ll,ll&gt;pw;</span><br><span class="line">    <span class="keyword">if</span>(y == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"0"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = <span class="number">-1</span>, m = <span class="built_in">sqrt</span>(p) + <span class="number">1</span>, xx, s = y;</span><br><span class="line">    <span class="keyword">for</span>(ll i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">        pw[s] = i;</span><br><span class="line">        s = s * x % p;</span><br><span class="line">    &#125;</span><br><span class="line">    xx = qpow(x, m, p), s = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i = <span class="number">1</span>; i &lt;= m + <span class="number">1</span>; ++i)&#123;</span><br><span class="line">        s = s * xx % p;</span><br><span class="line">        <span class="keyword">if</span>(pw.count(s))&#123;</span><br><span class="line">            ans = i * m - pw[s];</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ans &lt; <span class="number">0</span>) nnot();</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll t,op;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>,&amp;t,&amp;op);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld"</span>,&amp;y,&amp;z,&amp;p);</span><br><span class="line">        <span class="keyword">if</span>(op == <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,qpow(y,z,p));</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op == <span class="number">2</span>)&#123;</span><br><span class="line">            ll tm=y%p;</span><br><span class="line">            <span class="keyword">if</span>(tm==<span class="number">0</span> &amp;&amp; z%p!=<span class="number">0</span>)&#123;</span><br><span class="line">                nnot();</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,z*inv(y,p)%p);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(y%p) BSGS(y,z);</span><br><span class="line">            <span class="keyword">else</span> nnot();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>å½“$gcd(y,p) \neq 1$æ—¶ï¼Œå°±è¦ç”¨åˆ°$exgcd$ç†è®ºã€‚</p><p>å°†åŸå¼å†™æˆ$y * y^{x-1}+k * p=z,k \in Z$ï¼Œæ ¹æ®$exgcd$ï¼Œå½“$d=gcd(y,p)$ä¸æ˜¯$z$çš„çº¦æ•°å°±ä¸ä¼šæœ‰è§£ï¼Œæœ‰ï¼š$$\frac{y}{d} * y^{x-1}+k * \frac{p}{d}=\frac{z}{d}$$</p><p>ä¸€ç›´é€’å½’ç›´åˆ°$d=1$ï¼Œè®¾ä¹‹é—´çš„æ‰€æœ‰çš„$d$çš„ä¹˜ç§¯ä¸º$g$ï¼Œé€’å½’$c$æ¬¡ï¼Œä»¤$xâ€™=x-c\ ,\ pâ€™=\frac{p}{g}\ ,\ z=\frac{z}{g}$ï¼Œ$y^{xâ€™} * \frac{y^c}{g} \equiv zâ€™(mod \ pâ€™)$</p><p>ç„¶åå†ç”¨BSGSæ±‚è§£ã€‚</p><h2 id="SPOJMOD-Power-Modulo-Inverted"><a href="#SPOJMOD-Power-Modulo-Inverted" class="headerlink" title="SPOJMOD Power Modulo Inverted"></a><a href="http://www.spoj.com/problems/MOD/" target="_blank" rel="noopener">SPOJMOD Power Modulo Inverted</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> GCC optimize(2)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line">ll y,z,p;</span><br><span class="line"><span class="function">ll <span class="title">qpow</span><span class="params">(ll x,ll n,ll mod)</span></span>&#123;</span><br><span class="line">    ll res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(n)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n&amp;<span class="number">1</span>) res=res*x%mod;</span><br><span class="line">        x=x*x%mod;</span><br><span class="line">        n&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">gcd</span><span class="params">(ll x,ll y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (y==<span class="number">0</span>)?x:gcd(y,x%y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">exBSGS</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(z==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">map</span>&lt;ll,ll&gt;pw;</span><br><span class="line">    ll cnt=<span class="number">0</span>,mul=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll d=gcd(y,p); d!=<span class="number">1</span>; d=gcd(y,p))&#123;</span><br><span class="line">        <span class="keyword">if</span>(z%d) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        ++cnt,z/=d,p/=d,mul=(mul*y/d%p);</span><br><span class="line">        <span class="keyword">if</span>(z == mul) <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line">    ll s=z,m=<span class="built_in">sqrt</span>(p)+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;m; i++)&#123;</span><br><span class="line">        pw[s]=i;</span><br><span class="line">        s=s*y%p;</span><br><span class="line">    &#125;</span><br><span class="line">    ll x=qpow(y,m,p);</span><br><span class="line">    s=mul;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>; i&lt;=m; i++)&#123;</span><br><span class="line">        s=s*x%p;</span><br><span class="line">        <span class="keyword">if</span>(pw.count(s)) <span class="keyword">return</span> i*m-pw[s]+cnt;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld"</span>,&amp;y,&amp;p,&amp;z)&amp;&amp;(y||z||p))&#123;</span><br><span class="line">        y%=p;</span><br><span class="line">        z%=p;</span><br><span class="line">        ll ans=exBSGS();</span><br><span class="line">        <span class="keyword">if</span>(ans &lt; <span class="number">0</span>) <span class="built_in">puts</span>(<span class="string">"No Solution"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="generator-2"><a href="#generator-2" class="headerlink" title="generator 2"></a><a href="https://ac.nowcoder.com/acm/contest/885/C" target="_blank" rel="noopener">generator 2</a></h2><p>2019å¹´ç‰›å®¢å¤šæ ¡ç¬¬äº”åœºã€‚</p><p>é¢˜æ„ï¼šä½ æœ‰ä¸€ä¸ª$n$ä¸ªæ•°å­—çš„é€’æ¨å¼ï¼š$x_{i} \equiv  (a * x_{i-1} + b)mod \ p$ ï¼Œç»™å®š$n$ï¼Œ$x_0$ï¼Œ$a$ï¼Œ$b$ï¼Œ$p$ï¼Œå…¶ä¸­$p$æ˜¯ç´ æ•°ï¼Œè¯¢é—®$Q$æ¬¡ï¼Œæ±‚ä¸€ä¸ªæœ€å°çš„ä¸‹æ ‡$i$ï¼Œä½¿å¾—$x_i \equiv  v (mod \ p)$ã€‚</p><p>é¢˜è§£ï¼šå¾ˆå®¹æ˜“å¾—åˆ°å…³äº$x_i$çš„é€šé¡¹å…¬å¼ï¼š$$x_i = a^i * x_0  + b * \sum_{j=0}^{i-1} a^j = a^i * x_0  + b * (\frac{a^i - 1}{a - 1}) = a ^ i * (\frac{b}{a-1}+x_0) - \frac{b}{a-1}$$</p><p>é‚£ä¹ˆï¼Œå¯ä»¥åŒ–æˆ$$a^i \equiv \frac{(a-1) * v+b}{(a-1) * x_0+b} (mod \ p)$$</p><p>ç”±äºé¢˜ç›®éœ€è¦æŸ¥è¯¢çš„æ¬¡æ•°æœ‰$1000$æ¬¡ï¼Œç›´æ¥å¥—ä¸Šé¢çš„$BSGS$å¤æ‚åº¦å¤ªå¤§ï¼Œæ‰€ä»¥å°±éœ€è¦é¢„å¤„ç†ï¼Œæˆ‘ä»¬çœ‹ä¸Šé¢çš„ä»£ç ï¼Œæ¯æ¬¡è¿›è¡Œç®—æ³•æ—¶å…¶å®éƒ½æœ‰ä¸€æ¬¡forå¾ªç¯æ˜¯é¢„å¤„ç†ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸€æ­¥æ”¾åœ¨æŸ¥è¯¢å‰ï¼Œæ”¹ç”¨unorder_mapæˆ–è€…æ‰‹å†™hashå­˜å€¼ã€‚</p><p>è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œæˆ‘ä»¬æŠŠé¢„å¤„ç†çš„æ—¶é—´å¢åŠ ï¼Œè€Œå‡å°‘æŸ¥è¯¢æ—¶é—´ï¼Œå°†é¢„å¤„ç†æ”¹æˆ$\left \lceil p^{\frac{2}{3}} \right \rceil$ï¼Œç„¶åå°†æŸ¥è¯¢çš„æ—¶é—´æ”¹æˆ$\left \lceil p^{\frac{1}{3}} \right \rceil$ã€‚</p><p>æ³¨æ„è¿™é¢˜$a$ç­‰äº1æˆ–è€…0éœ€è¦ç‰¹åˆ¤ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Hash</span>&#123;</span></span><br><span class="line">    ll mod = <span class="number">2908361</span>;</span><br><span class="line">    ll cnt = <span class="number">0</span>, Head[<span class="number">2908361</span>], nxt[<span class="number">1000006</span>];</span><br><span class="line">    ll val[<span class="number">1000006</span>], pos[<span class="number">1000006</span>];</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">memset</span>(Head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(Head)); cnt = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(ll x, ll v)</span></span>&#123;</span><br><span class="line">        ll key = x % mod;</span><br><span class="line">        pos[cnt] = x, val[cnt] = v, nxt[cnt] = Head[key];</span><br><span class="line">        Head[key] = cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">ll <span class="title">Find</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">        ll key = x % mod;</span><br><span class="line">        <span class="keyword">for</span>(ll i = Head[key]; ~i; i = nxt[i])&#123;</span><br><span class="line">            <span class="keyword">if</span>(pos[i] == x) <span class="keyword">return</span> val[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1l</span>l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;hs;</span><br><span class="line"><span class="function">ll <span class="title">qpow</span><span class="params">(ll x,ll n,ll mod)</span></span>&#123;</span><br><span class="line">    ll res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(n)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n&amp;<span class="number">1</span>) res=res*x%mod;</span><br><span class="line">        x=x*x%mod;</span><br><span class="line">        n&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">inv</span><span class="params">(ll x,ll p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> qpow(x,p<span class="number">-2</span>,p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">(ll y,ll p)</span></span>&#123;</span><br><span class="line">    hs.init();</span><br><span class="line">    ll m=<span class="built_in">ceil</span>(<span class="built_in">pow</span>(p,<span class="number">2.0</span>/<span class="number">3.0</span>));</span><br><span class="line">    ll s=<span class="number">1l</span>l;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;=m; i++)&#123;</span><br><span class="line">        hs.Insert(s,i);</span><br><span class="line">        s=s*y%p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">BSGS</span><span class="params">(ll y,ll z,ll p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(z == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ll ans=<span class="number">-1</span>,m=<span class="built_in">ceil</span>(<span class="built_in">pow</span>(p,<span class="number">1.0</span>/<span class="number">3.0</span>)),s=inv(z,p);</span><br><span class="line">    ll up=<span class="built_in">ceil</span>(<span class="built_in">pow</span>(p,<span class="number">2.0</span>/<span class="number">3.0</span>));</span><br><span class="line">    ll x=qpow(y,up,p);</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>; i&lt;=m; i++)&#123;</span><br><span class="line">        s=s*x%p;</span><br><span class="line">        ll fin=hs.Find(s);</span><br><span class="line">        <span class="keyword">if</span>(fin!=<span class="number">-1</span>)&#123;</span><br><span class="line">            ans=i*up-fin;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll n,p,x,a,b,v,T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld %lld %lld"</span>,&amp;n,&amp;x,&amp;a,&amp;b,&amp;p);</span><br><span class="line">        ll q;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;q);</span><br><span class="line">        Init(a,p);</span><br><span class="line">        <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;v);</span><br><span class="line">            <span class="keyword">if</span>(a==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(x==v) <span class="built_in">puts</span>(<span class="string">"0"</span>);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(b==v) <span class="built_in">puts</span>(<span class="string">"1"</span>);</span><br><span class="line">                <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"-1"</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(a==<span class="number">1</span>)&#123;</span><br><span class="line">                ll ans=((v-x)*inv(b,p)+p)%p;</span><br><span class="line">                <span class="keyword">if</span>(ans&gt;=n) ans=<span class="number">-1</span>;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ll z=(((a<span class="number">-1</span>)*v+b)%p*(inv(((a<span class="number">-1</span>)*x+b)%p,p)))%p;</span><br><span class="line">            ll ans=BSGS(a,z,p);</span><br><span class="line">            <span class="keyword">if</span>(ans &gt;= n) ans=<span class="number">-1</span>;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç”¨äºè§£å†³$y^x \equiv z\ (mod\ p)$ï¼Œç»™å®š$y,z,p \geq 1$ï¼Œæ±‚è§£$x$ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æ•°å­¦" scheme="http://yoursite.com/categories/%E6%95%B0%E5%AD%A6/"/>
    
    
  </entry>
  
  <entry>
    <title>kmp&amp;&amp;exkmp</title>
    <link href="http://yoursite.com/2019/07/19/kmp/"/>
    <id>http://yoursite.com/2019/07/19/kmp/</id>
    <published>2019-07-19T15:28:41.647Z</published>
    <updated>2019-08-06T03:59:56.045Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰å†™è¿‡kmpçš„ç®—æ³•ï¼Œlwlç»™äº†æˆ‘ä¸€ä¸ªæ¨¡æ¿ï¼Œç°åœ¨å†å†™å°±å‡ºé—®é¢˜äº†ï¼Œ<del>å‡ºæ¥æŒ¨æ‰“ï¼</del>ï¼Œä¸è¿‡è¿˜å¥½å‘ç°çš„åŠæ—¶ã€‚</p><a id="more"></a><h2 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h2><p><a href="https://www.spoj.com/problems/EPALIN/" target="_blank" rel="noopener">Extend to Palindrome</a></p><p>é¢˜æ„ï¼šå°±æ˜¯åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²æœ€åæ·»åŠ æœ€å°‘çš„å­—ç¬¦ï¼Œä½¿å¾—å­—ç¬¦ä¸²å›æ–‡ã€‚</p><p>æ€è·¯ï¼šæ±‚ä¸€ä¸ªæ­£åºçš„ä¸²ï¼Œå’Œä¸€ä¸ªé€†åºçš„ä¸²ï¼Œæ±‚å…¶ä¸­çš„æ­£å‘çš„åç¼€å’Œé€†å‘çš„å‰ç¼€ç›¸ç­‰çš„é•¿åº¦æœ€å¤§å€¼ï¼Œæœ€åå…ˆè¾“å‡ºæ­£å‘çš„ä¸²ï¼Œåœ¨è¾“å‡ºé€†åºä¸­æœ€å¤§é•¿åº¦ä¹‹åçš„å­—ç¬¦ã€‚</p><p>æ¯”å¦‚è¯´ æ­£åºï¼šabaaï¼Œé€†åºï¼šaaba ï¼Œé‚£ä¹ˆæœ€é•¿çš„é•¿åº¦å°±æ˜¯2ï¼Œä¸ºaaï¼Œç„¶åå°±è¾“å‡ºabaa baå°±å¥½äº†ï¼Œå¯ä»¥kmpæˆ–è€…hashæ±‚æœ€é•¿çš„é•¿åº¦ã€‚</p><p>KMPæ³•ï¼ˆæ¨¡æ¿æ‹¿ç¨³äº†ï¼‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">char</span> t[maxn];</span><br><span class="line"><span class="keyword">int</span> nex[maxn],len;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cal</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    nex[<span class="number">0</span>]=j=<span class="number">-1</span>;</span><br><span class="line">    i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;len)&#123;</span><br><span class="line">        <span class="keyword">while</span>(j!=<span class="number">-1</span> &amp;&amp; s[j]!=s[i]) j=nex[j];</span><br><span class="line">        nex[++i]=++j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kmp</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//åŸä¸²tï¼Œç›®çš„ä¸²s</span></span><br><span class="line">    <span class="keyword">while</span>(i&lt;len&amp;&amp;j&lt;len)&#123;</span><br><span class="line">        <span class="keyword">while</span>(j!=<span class="number">-1</span> &amp;&amp; t[i]!=s[j]) j=nex[j];</span><br><span class="line">        i++;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%s"</span>,t))&#123;</span><br><span class="line">        len=<span class="built_in">strlen</span>(t);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">            s[i]=t[len-i<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        s[len]=<span class="string">'\0'</span>;</span><br><span class="line">        cal();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s"</span>,t);</span><br><span class="line">        <span class="keyword">int</span> tt=kmp();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=tt; i&lt;len; i++) <span class="built_in">putchar</span>(s[i]);</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>hashç•™å‘å§â€¦â€¦</p><p>åè®°ï¼šå¦‚æœæ˜¯æ±‚åœ¨ä»»æ„ä½ç½®æ’å…¥ä»»æ„å­—ç¬¦ï¼Œæ±‚æ’å…¥çš„æœ€å°‘å­—ç¬¦çš„ä¸ªæ•°ï¼Œåšæ³•å°±æ˜¯åŒºé—´dpã€‚</p><hr><h2 id="æ‰©å±•KMP"><a href="#æ‰©å±•KMP" class="headerlink" title="æ‰©å±•KMP"></a>æ‰©å±•KMP</h2><p>ç”¨kmpç¡¬åˆšæ‰©å±•kmpç®—æ³•ï¼Œæˆ‘å“­äº†ã€‚ğŸ˜­</p><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6629" target="_blank" rel="noopener">HDU6629</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> ll maxn=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">char</span> t[maxn];</span><br><span class="line">ll nex[maxn],len;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cal</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(nex,<span class="number">0</span>,<span class="keyword">sizeof</span> nex);</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    nex[<span class="number">0</span>]=j=<span class="number">-1</span>;</span><br><span class="line">    i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;len)&#123;</span><br><span class="line">        <span class="keyword">while</span>(s[j]!=s[i] &amp;&amp; j!=<span class="number">-1</span>) j=nex[j];</span><br><span class="line">        nex[++i]=++j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">ll Next[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getNext</span><span class="params">(<span class="keyword">char</span> t[],ll m)</span></span>&#123;</span><br><span class="line">    Next[<span class="number">0</span>]=m;</span><br><span class="line">    ll j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(j+<span class="number">1</span>&lt;m&amp;&amp;t[j]==t[j+<span class="number">1</span>]) j++;</span><br><span class="line">    Next[<span class="number">1</span>]=j;</span><br><span class="line">    ll k=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">2</span>;i&lt;m;i++)&#123;</span><br><span class="line">        ll p=Next[k]+k<span class="number">-1</span>;</span><br><span class="line">        ll L=Next[i-k];</span><br><span class="line">        <span class="keyword">if</span>(i+L&lt;p+<span class="number">1</span>) Next[i]=L;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            j=max(<span class="number">0L</span>L,p-i+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">while</span>(i+j&lt;m&amp;&amp;t[i+j]==t[j]) j++;</span><br><span class="line">            Next[i]=j;</span><br><span class="line">            k=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s);</span><br><span class="line">        len=<span class="built_in">strlen</span>(s);</span><br><span class="line">        cal();</span><br><span class="line">        getNext(s,len);</span><br><span class="line">        ll ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(ll i=<span class="number">1</span>; i&lt;len; i++)&#123;</span><br><span class="line">            <span class="comment">//printf("%d\n",Next[i]);</span></span><br><span class="line">            ans+=(Next[i]);</span><br><span class="line">            <span class="keyword">if</span>(Next[i]+i&gt;=len)ans+=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> ans++; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h2><p>ï¼ˆæ„Ÿè°¢æ¸…å·¨orzï¼‰</p><h3 id="1-KMP"><a href="#1-KMP" class="headerlink" title="1.KMP"></a>1.KMP</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//next[i] è¡¨ç¤ºt[i-next[i]...i-1]=t[0...next[i]-1]</span></span><br><span class="line"><span class="comment">//å¾ªç¯èŠ‚len=m%(m-next[m])==0?m-next[m]:1</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getNext</span><span class="params">(<span class="keyword">char</span> t[],<span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    j=Next[<span class="number">0</span>]=<span class="number">-1</span>;</span><br><span class="line">    i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;m)&#123;</span><br><span class="line">        <span class="keyword">while</span>(j!=<span class="number">-1</span>&amp;&amp;t[i]!=t[j]) j=Next[j];</span><br><span class="line">        Next[++i]=++j;</span><br><span class="line">        <span class="comment">//if(t[++i]==t[++j]) Next[i]=Next[j]; //ä¼˜åŒ–</span></span><br><span class="line">        <span class="comment">//else Next[i]=j;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kmp</span><span class="params">(<span class="keyword">char</span> s[],<span class="keyword">int</span> n,<span class="keyword">char</span> t[],<span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line">    getNext(t,m);</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;n)&#123;</span><br><span class="line">        <span class="keyword">while</span>(j==<span class="number">-1</span>&amp;&amp;s[i]!=t[j]) j=next[j];</span><br><span class="line">        i++,j++;</span><br><span class="line">        <span class="keyword">if</span>(j&gt;=m)&#123;<span class="comment">//åŒ¹é…æˆåŠŸ</span></span><br><span class="line">            ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-æ‰©å±•KMP"><a href="#2-æ‰©å±•KMP" class="headerlink" title="2.æ‰©å±•KMP"></a>2.æ‰©å±•KMP</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//next[i]è¡¨ç¤ºt[i...m-1]ä¸t[0...m-1]çš„æœ€é•¿å…¬å…±å‰ç¼€</span></span><br><span class="line"><span class="comment">//extend[i]è¡¨ç¤ºs[i...n-1]ä¸t[0...m-1]çš„æœ€é•¿å…¬å…±å‰ç¼€</span></span><br><span class="line"><span class="keyword">int</span> Next[maxn],extend[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getNext</span><span class="params">(<span class="keyword">char</span> t[],<span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line">    Next[<span class="number">0</span>]=m;</span><br><span class="line">    <span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(j+<span class="number">1</span>&lt;m&amp;&amp;t[j]==t[j+<span class="number">1</span>]) j++;</span><br><span class="line">    Next[<span class="number">1</span>]=j;</span><br><span class="line">    <span class="keyword">int</span> k=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> p=Next[k]+k<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">int</span> L=Next[i-k];</span><br><span class="line">        <span class="keyword">if</span>(i+L&lt;p+<span class="number">1</span>) Next[i]=L;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            j=max(<span class="number">0</span>,p-i+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">while</span>(i+j&lt;m&amp;&amp;t[i+j]==t[j]) j++;</span><br><span class="line">            Next[i]=j;</span><br><span class="line">            k=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">extendkmp</span><span class="params">(<span class="keyword">char</span> t[],<span class="keyword">int</span> m,<span class="keyword">char</span> s[],<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    getNext(t,m);</span><br><span class="line">    <span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(j&lt;n&amp;&amp;j&lt;m&amp;&amp;t[j]==s[j]) j++;</span><br><span class="line">    extend[<span class="number">0</span>]=j;</span><br><span class="line">    <span class="keyword">int</span> k=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> p=extend[k]+k<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">int</span> L=Next[i-k];</span><br><span class="line">        <span class="keyword">if</span>(i+L&lt;p+<span class="number">1</span>) extend[i]=L;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            j=max(<span class="number">0</span>,p-i+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">while</span>(i+j&lt;n&amp;&amp;j&lt;m&amp;&amp;s[i+j]==t[j]) j++;</span><br><span class="line">            extend[i]=j;</span><br><span class="line">            k=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰å†™è¿‡kmpçš„ç®—æ³•ï¼Œlwlç»™äº†æˆ‘ä¸€ä¸ªæ¨¡æ¿ï¼Œç°åœ¨å†å†™å°±å‡ºé—®é¢˜äº†ï¼Œ&lt;del&gt;å‡ºæ¥æŒ¨æ‰“ï¼&lt;/del&gt;ï¼Œä¸è¿‡è¿˜å¥½å‘ç°çš„åŠæ—¶ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
  </entry>
  
  <entry>
    <title>Codeforces Round</title>
    <link href="http://yoursite.com/2019/07/18/cf190717/"/>
    <id>http://yoursite.com/2019/07/18/cf190717/</id>
    <published>2019-07-18T02:57:16.330Z</published>
    <updated>2019-07-18T03:04:16.506Z</updated>
    
    <content type="html"><![CDATA[<p><del>å·®ç‚¹æ‰åˆ†</del>ï¼ŒD2æœ‰æ€è·¯æœ€åbugå¤šå¤šã€‚ç„¶åAé¢˜è®©æˆ‘ä»¬çŸ¥é“äº†è‡ªå·±è‹±è¯­æ˜¯ç™½å­¦äº†</p><a id="more"></a><h2 id="A-Drinks-Choosing"><a href="#A-Drinks-Choosing" class="headerlink" title="A.Drinks Choosing"></a><a href="https://codeforces.com/contest/1195/problem/A" target="_blank" rel="noopener">A.Drinks Choosing</a></h2><p>é¢˜æ„ï¼š#%â€¦ï¿¥%ï¿¥%â€¦ï¿¥%â€¦â€¦&amp;â€¦â€¦â€¦&amp;%#ï¿¥%#ï¿¥â€¦#^#**&amp;#@$#()</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1100</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> b[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;k);</span><br><span class="line">    <span class="comment">//memset(vis,2,sizeof vis);</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">        b[a[i]]++;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(b+<span class="number">1</span>,b+<span class="number">1</span>+k);</span><br><span class="line">    <span class="keyword">int</span> all=n/<span class="number">2</span>+n%<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=k; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b[i]%<span class="number">2</span>==<span class="number">0</span> &amp;&amp; b[i]!=<span class="number">0</span>)&#123;</span><br><span class="line">            ans+=b[i];</span><br><span class="line">            all-=(b[i]/<span class="number">2</span>);</span><br><span class="line">            b[i]=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(b[i]%<span class="number">2</span>==<span class="number">1</span> &amp;&amp; b[i]&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            ans+=(b[i]<span class="number">-1</span>);</span><br><span class="line">            all-=(b[i]/<span class="number">2</span>);</span><br><span class="line">            b[i]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans+all);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Sport-Mafia"><a href="#B-Sport-Mafia" class="headerlink" title="B.Sport Mafia"></a><a href="https://codeforces.com/contest/1195/problem/B" target="_blank" rel="noopener">B.Sport Mafia</a></h2><p>æ¨å…¬å¼ï¼Œç­”æ¡ˆå°±æ˜¯: $n- \frac { { \sqrt {8 * k + 8 * n + 9 }  } - 3 } {2}$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll n,k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>,&amp;n,&amp;k);</span><br><span class="line">    ll tmp=n-(<span class="number">-3</span>+(ll)<span class="built_in">sqrt</span>(<span class="number">9</span>+<span class="number">8</span>*n+<span class="number">8</span>*k))/<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,tmp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Basketball-Exercise"><a href="#C-Basketball-Exercise" class="headerlink" title="C.Basketball Exercise"></a><a href="https://codeforces.com/contest/1195/problem/C" target="_blank" rel="noopener">C.Basketball Exercise</a></h2><p>dp</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> ll maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line">ll a[maxn],b[maxn];</span><br><span class="line">ll n;</span><br><span class="line">ll dp[maxn][<span class="number">3</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;b[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>]=a[<span class="number">0</span>];</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">1</span>]=b[<span class="number">0</span>];</span><br><span class="line">    dp[<span class="number">1</span>][<span class="number">0</span>]=a[<span class="number">1</span>]+b[<span class="number">0</span>];</span><br><span class="line">    dp[<span class="number">1</span>][<span class="number">1</span>]=a[<span class="number">0</span>]+b[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">2</span>; i&lt;n; i++)&#123;</span><br><span class="line">        dp[i][<span class="number">0</span>]=max(dp[i<span class="number">-1</span>][<span class="number">1</span>],max(dp[i<span class="number">-2</span>][<span class="number">0</span>],dp[i<span class="number">-2</span>][<span class="number">1</span>]))+a[i];</span><br><span class="line">        dp[i][<span class="number">1</span>]=max(dp[i<span class="number">-1</span>][<span class="number">0</span>],max(dp[i<span class="number">-2</span>][<span class="number">1</span>],dp[i<span class="number">-2</span>][<span class="number">0</span>]))+b[i];</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,max(dp[n<span class="number">-1</span>][<span class="number">0</span>],dp[n<span class="number">-1</span>][<span class="number">1</span>]));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D1-Submarine-in-the-Rybinsk-Sea"><a href="#D1-Submarine-in-the-Rybinsk-Sea" class="headerlink" title="D1.Submarine in the Rybinsk Sea"></a><a href="https://codeforces.com/contest/1195/problem/D1" target="_blank" rel="noopener">D1.Submarine in the Rybinsk Sea</a></h2><p>æ±‚è´¡çŒ®</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> ll mod=<span class="number">998244353</span>;</span><br><span class="line">ll n;</span><br><span class="line">ll a[<span class="number">100010</span>];</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">20</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;n);</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s);</span><br><span class="line">        ll len=<span class="built_in">strlen</span>(s);</span><br><span class="line">        ll tmp=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">            tmp=(tmp+(s[i]-<span class="string">'0'</span>))%mod;</span><br><span class="line">            <span class="keyword">if</span>(i&lt;len<span class="number">-1</span>) tmp=(tmp*<span class="number">100</span>)%mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//printf("%lld %lld\n",tmp,tmp*10);</span></span><br><span class="line">        ans=(ans+tmp)%mod;</span><br><span class="line">        ans=(ans+tmp*<span class="number">10</span>)%mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans*n%mod);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D2-Submarine-in-the-Rybinsk-Sea"><a href="#D2-Submarine-in-the-Rybinsk-Sea" class="headerlink" title="D2.Submarine in the Rybinsk Sea"></a><a href="https://codeforces.com/contest/1195/problem/D2" target="_blank" rel="noopener">D2.Submarine in the Rybinsk Sea</a></h2><p>ä¸D1ä¸åŒçš„æ˜¯ï¼Œæ¯ä¸ªæ•°çš„é•¿åº¦ä¸ä¸€æ ·ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> ll mod=<span class="number">998244353</span>;</span><br><span class="line">ll n;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">100010</span>][<span class="number">20</span>];</span><br><span class="line">ll vis[<span class="number">20</span>];</span><br><span class="line">ll ba[<span class="number">25</span>];</span><br><span class="line">ll sum[<span class="number">20</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ba[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>; i&lt;<span class="number">25</span>; i++)&#123;</span><br><span class="line">        ba[i]=ba[i<span class="number">-1</span>]*<span class="number">10</span>%mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;n);</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s[i]);</span><br><span class="line">        ll len=<span class="built_in">strlen</span>(s[i]);</span><br><span class="line">        vis[len]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">18</span>; i&gt;<span class="number">0</span>; i--)&#123;</span><br><span class="line">        sum[i]=sum[i+<span class="number">1</span>]+vis[i];</span><br><span class="line">        <span class="comment">//printf("%lld %lld %lld\n",i,sum[i],vis[2]);</span></span><br><span class="line">    &#125;</span><br><span class="line">    ll cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll ii=<span class="number">0</span>; ii&lt;n; ii++)&#123;</span><br><span class="line">        ll c=<span class="built_in">strlen</span>(s[ii]);</span><br><span class="line">        <span class="keyword">for</span>(ll i=c; i&gt;=<span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(vis[i]==<span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            ll tmp=<span class="number">0</span>;</span><br><span class="line">            ll f=<span class="number">-1</span>;</span><br><span class="line">            <span class="comment">//puts(s[ii]);</span></span><br><span class="line">            <span class="keyword">for</span>(ll k=<span class="number">0</span>; k&lt;c-i; k++)&#123;</span><br><span class="line">                tmp=(tmp*<span class="number">10</span>)%mod;</span><br><span class="line">                tmp=(tmp+s[ii][k]-<span class="string">'0'</span>)%mod;</span><br><span class="line">                f=k;</span><br><span class="line">            &#125;</span><br><span class="line">            tmp=(tmp*ba[(i)*<span class="number">2</span>])%mod*(vis[i]*<span class="number">2</span>)%mod;</span><br><span class="line">            <span class="comment">//printf("%lld &amp;&amp; %lld %lld %lld\n",tmp,f,ba[i*2],c);</span></span><br><span class="line">            f++;</span><br><span class="line">            ll tmpp=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(ll k=f; k&lt;c; k++)&#123;</span><br><span class="line">                tmpp=(tmpp+(s[ii][k]-<span class="string">'0'</span>))%mod;</span><br><span class="line">                <span class="comment">//printf("%c %lld\n",s[ii][k],tmpp);</span></span><br><span class="line">                <span class="keyword">if</span>(k&lt;c<span class="number">-1</span>) tmpp=(tmpp*<span class="number">100</span>)%mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//printf("%lld %lld %lld\n",tmpp,tmpp*10,sum[c]);</span></span><br><span class="line">            <span class="keyword">if</span>(tmp==<span class="number">0</span>) tmp=(tmp+((tmpp+tmpp*<span class="number">10</span>)*sum[c]%mod))%mod;</span><br><span class="line">            <span class="keyword">else</span> tmp=(tmp+((tmpp+tmpp*<span class="number">10</span>)*vis[i]%mod))%mod;</span><br><span class="line">            ans=(ans+tmp)%mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//printf("%lld %lld\n",tmp,tmp*10);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans%mod);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;del&gt;å·®ç‚¹æ‰åˆ†&lt;/del&gt;ï¼ŒD2æœ‰æ€è·¯æœ€åbugå¤šå¤šã€‚ç„¶åAé¢˜è®©æˆ‘ä»¬çŸ¥é“äº†è‡ªå·±è‹±è¯­æ˜¯ç™½å­¦äº†&lt;/p&gt;
    
    </summary>
    
      <category term="codeforces" scheme="http://yoursite.com/categories/codeforces/"/>
    
    
  </entry>
  
  <entry>
    <title>æ ‘é“¾å‰–åˆ†</title>
    <link href="http://yoursite.com/2019/07/17/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/"/>
    <id>http://yoursite.com/2019/07/17/æ ‘é“¾å‰–åˆ†/</id>
    <published>2019-07-17T05:07:39.931Z</published>
    <updated>2019-07-17T05:07:40.029Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€ä¸ºç»å…¸çš„æ ‘é“¾å‰–åˆ†å°±æ˜¯å¯¹äºæ ‘åˆ ä¸€æ¡é“¾è¿›è¡ŒåŒæ—¶åŠ æˆ–è€…å‡æ“ä½œï¼Œç„¶åæ¯æ¬¡è¯¢é—®ã€‚</p><a id="more"></a><h2 id="æ´›è°·P3348"><a href="#æ´›è°·P3348" class="headerlink" title="æ´›è°·P3348"></a><a href="https://www.luogu.org/problemnew/show/P3384" target="_blank" rel="noopener">æ´›è°·P3348</a></h2><p>é¢˜æ„ï¼šæœ€ä¸ºç»å…¸çš„æ¨¡æ¿é¢˜ã€‚</p><p>å·²çŸ¥ä¸€æ£µåŒ…å«$N$ä¸ªç»“ç‚¹çš„æ ‘ï¼ˆè¿é€šä¸”æ— ç¯ï¼‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸ŠåŒ…å«ä¸€ä¸ªæ•°å€¼ï¼Œéœ€è¦æ”¯æŒä»¥ä¸‹æ“ä½œï¼š</p><p>æ“ä½œ1ï¼š æ ¼å¼ï¼š $1$ $x$ $y$ $z$ è¡¨ç¤ºå°†æ ‘ä»$x$åˆ°$y$ç»“ç‚¹æœ€çŸ­è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½åŠ ä¸Š$z$</p><p>æ“ä½œ2ï¼š æ ¼å¼ï¼š $2$ $x$ $y$ è¡¨ç¤ºæ±‚æ ‘ä»$x$åˆ°$y$ç»“ç‚¹æœ€çŸ­è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼ä¹‹å’Œ</p><p>æ“ä½œ3ï¼š æ ¼å¼ï¼š $3$ $x$ $z$ è¡¨ç¤ºå°†ä»¥$x$ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘å†…æ‰€æœ‰èŠ‚ç‚¹å€¼éƒ½åŠ ä¸Š$z$</p><p>æ“ä½œ4ï¼š æ ¼å¼ï¼š $4$ $x$ è¡¨ç¤ºæ±‚ä»¥$x$ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘å†…æ‰€æœ‰èŠ‚ç‚¹å€¼ä¹‹å’Œ</p><p>æ€è·¯ï¼šæ¨¡æ¿æ¥å¥½ï¼ˆæ ‘é“¾å‰–åˆ†+çº¿æ®µæ ‘ï¼‰ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> ll maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    ll next,to;</span><br><span class="line">&#125;e[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    ll l,r,ls,rs,sum,lazy;</span><br><span class="line">&#125;a[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line">ll n,m,r,rt,mod,v[maxn],head[maxn],cnt,f[maxn],d[maxn],son[maxn],size[maxn],top[maxn],id[maxn],rk[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(ll x,ll y)</span></span>&#123;</span><br><span class="line">    e[++cnt].next=head[x];</span><br><span class="line">    e[cnt].to=y;</span><br><span class="line">    head[x]=cnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs1</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">    size[x]=<span class="number">1</span>,d[x]=d[f[x]]+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll v,i=head[x];i;i=e[i].next)</span><br><span class="line">        <span class="keyword">if</span>((v=e[i].to)!=f[x])&#123;</span><br><span class="line">            f[v]=x,dfs1(v),size[x]+=size[v];</span><br><span class="line">            <span class="keyword">if</span>(size[son[x]]&lt;size[v])</span><br><span class="line">                son[x]=v;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs2</span><span class="params">(ll x,ll tp)</span></span>&#123;</span><br><span class="line">    top[x]=tp,id[x]=++cnt,rk[cnt]=x;</span><br><span class="line">    <span class="keyword">if</span>(son[x])</span><br><span class="line">        dfs2(son[x],tp);</span><br><span class="line">    <span class="keyword">for</span>(ll v,i=head[x];i;i=e[i].next)</span><br><span class="line">        <span class="keyword">if</span>((v=e[i].to)!=f[x]&amp;&amp;v!=son[x])</span><br><span class="line">            dfs2(v,v);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">pushup</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">    a[x].sum=(a[a[x].ls].sum+a[a[x].rs].sum)%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(ll l,ll r,ll x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==r)&#123;</span><br><span class="line">        a[x].sum=v[rk[l]],a[x].l=a[x].r=l;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ll mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    a[x].ls=cnt++,a[x].rs=cnt++;</span><br><span class="line">    build(l,mid,a[x].ls),build(mid+<span class="number">1</span>,r,a[x].rs);</span><br><span class="line">    a[x].l=a[a[x].ls].l,a[x].r=a[a[x].rs].r;</span><br><span class="line">    pushup(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">len</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a[x].r-a[x].l+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a[x].lazy)&#123;</span><br><span class="line">        ll ls=a[x].ls,rs=a[x].rs,lz=a[x].lazy;</span><br><span class="line">        (a[ls].lazy+=lz)%=mod,(a[rs].lazy+=lz)%=mod;</span><br><span class="line">        (a[ls].sum+=lz*len(ls))%=mod,(a[rs].sum+=lz*len(rs))%=mod;</span><br><span class="line">        a[x].lazy=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(ll l,ll r,ll c,ll x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a[x].l&gt;=l&amp;&amp;a[x].r&lt;=r)&#123;</span><br><span class="line">        (a[x].lazy+=c)%=mod,(a[x].sum+=len(x)*c)%=mod;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(x);</span><br><span class="line">    ll mid=(a[x].l+a[x].r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(mid&gt;=l)</span><br><span class="line">        update(l,r,c,a[x].ls);</span><br><span class="line">    <span class="keyword">if</span>(mid&lt;r)</span><br><span class="line">        update(l,r,c,a[x].rs);</span><br><span class="line">    pushup(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(ll l,ll r,ll x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a[x].l&gt;=l&amp;&amp;a[x].r&lt;=r)</span><br><span class="line">        <span class="keyword">return</span> a[x].sum;</span><br><span class="line">    pushdown(x);</span><br><span class="line">    ll mid=(a[x].l+a[x].r)&gt;&gt;<span class="number">1</span>,tot=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(mid&gt;=l)</span><br><span class="line">        tot+=query(l,r,a[x].ls);</span><br><span class="line">    <span class="keyword">if</span>(mid&lt;r)</span><br><span class="line">        tot+=query(l,r,a[x].rs);</span><br><span class="line">    <span class="keyword">return</span> tot%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">sum</span><span class="params">(ll x,ll y)</span></span>&#123;</span><br><span class="line">    ll ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(top[x]!=top[y])&#123;</span><br><span class="line">        <span class="keyword">if</span>(d[top[x]]&lt;d[top[y]])</span><br><span class="line">            swap(x,y);</span><br><span class="line">        (ret+=query(id[top[x]],id[x],rt))%=mod;</span><br><span class="line">        x=f[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(id[x]&gt;id[y])</span><br><span class="line">        swap(x,y);</span><br><span class="line">    <span class="keyword">return</span> (ret+query(id[x],id[y],rt))%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">updates</span><span class="params">(ll x,ll y,ll c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(top[x]!=top[y])&#123;</span><br><span class="line">        <span class="keyword">if</span>(d[top[x]]&lt;d[top[y]])</span><br><span class="line">            swap(x,y);</span><br><span class="line">        update(id[top[x]],id[x],c,rt);</span><br><span class="line">        x=f[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(id[x]&gt;id[y])</span><br><span class="line">        swap(x,y);</span><br><span class="line">    update(id[x],id[y],c,rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld %lld"</span>,&amp;n,&amp;m,&amp;r,&amp;mod);</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;v[i]);</span><br><span class="line">    <span class="keyword">for</span>(ll x,y,i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>,&amp;x,&amp;y);</span><br><span class="line">        add(x,y),add(y,x);</span><br><span class="line">    &#125;</span><br><span class="line">    cnt=<span class="number">0</span>,dfs1(r),dfs2(r,r);</span><br><span class="line">    cnt=<span class="number">0</span>,build(<span class="number">1</span>,n,rt=cnt++);</span><br><span class="line">    <span class="keyword">for</span>(ll op,x,y,k,i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;op);</span><br><span class="line">        <span class="keyword">if</span>(op==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld"</span>,&amp;x,&amp;y,&amp;k);</span><br><span class="line">            updates(x,y,k);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>,&amp;x,&amp;y);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,sum(x,y));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">3</span>)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>,&amp;x,&amp;y);</span><br><span class="line">            update(id[x],id[x]+size[x]<span class="number">-1</span>,y,rt);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;x);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,query(id[x],id[x]+size[x]<span class="number">-1</span>,rt));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€ä¸ºç»å…¸çš„æ ‘é“¾å‰–åˆ†å°±æ˜¯å¯¹äºæ ‘åˆ ä¸€æ¡é“¾è¿›è¡ŒåŒæ—¶åŠ æˆ–è€…å‡æ“ä½œï¼Œç„¶åæ¯æ¬¡è¯¢é—®ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
  </entry>
  
  <entry>
    <title>Educational Codeforces Round 68(Rated for Div.2)</title>
    <link href="http://yoursite.com/2019/07/15/cf190714/"/>
    <id>http://yoursite.com/2019/07/15/cf190714/</id>
    <published>2019-07-15T05:50:45.879Z</published>
    <updated>2019-07-15T08:09:46.494Z</updated>
    
    <content type="html"><![CDATA[<p><del>æ—¥å¸¸æ‰åˆ†</del></p><a id="more"></a><h2 id="A-Remove-a-Progression"><a href="#A-Remove-a-Progression" class="headerlink" title="A.Remove a Progression"></a><a href="https://codeforces.com/contest/1194/problem/A" target="_blank" rel="noopener">A.Remove a Progression</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="keyword">int</span> n,x;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;x);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,<span class="number">2</span>*x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Yet-Another-Crosses-Problem"><a href="#B-Yet-Another-Crosses-Problem" class="headerlink" title="B.Yet Another Crosses Problem"></a><a href="https://codeforces.com/contest/1194/problem/B" target="_blank" rel="noopener">B.Yet Another Crosses Problem</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">5e4</span>+<span class="number">10</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;mp[maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="keyword">int</span> an[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">            mp[i].clear();</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>,&amp;s);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;m; j++)&#123;</span><br><span class="line">                mp[i].push_back(s[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;m; j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> jj=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(mp[i][j] == <span class="string">'*'</span>) jj++;</span><br><span class="line">            &#125;</span><br><span class="line">            an[j]=jj;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> q=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;m; j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(mp[i][j]==<span class="string">'*'</span>) q++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> pp=<span class="number">0</span>,pos=<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;m; j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(pp&lt;an[j])&#123;</span><br><span class="line">                    pos=j;</span><br><span class="line">                    pp=an[j];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(pp==an[j])&#123;</span><br><span class="line">                    <span class="keyword">if</span>(mp[i][j]==<span class="string">'.'</span>) pos=j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(pos==<span class="number">-1</span>)&#123;</span><br><span class="line">                ans=min(ans,m+n<span class="number">-1</span>-q);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(mp[i][pos]==<span class="string">'*'</span>) ans=min(ans,m+n<span class="number">-1</span>-q-pp+<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">else</span> ans=min(ans,m+n<span class="number">-1</span>-pp-q);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-From-S-To-T"><a href="#C-From-S-To-T" class="headerlink" title="C.From S To T"></a><a href="https://codeforces.com/contest/1194/problem/C" target="_blank" rel="noopener">C.From S To T</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">110</span>;</span><br><span class="line"><span class="keyword">char</span> s[maxn],t[maxn],p[maxn];</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">300</span>];</span><br><span class="line"><span class="keyword">int</span> vi[<span class="number">300</span>];</span><br><span class="line"><span class="keyword">int</span> v[<span class="number">300</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tt;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;tt);</span><br><span class="line">    <span class="keyword">while</span>(tt--)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span> vis);</span><br><span class="line">        <span class="built_in">memset</span>(vi,<span class="number">0</span>,<span class="keyword">sizeof</span> vi);</span><br><span class="line">        <span class="built_in">memset</span>(v,<span class="number">0</span>,<span class="keyword">sizeof</span> v);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s %s %s"</span>,s,t,p);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="built_in">strlen</span>(s); i++)&#123;</span><br><span class="line">            vis[s[i]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="built_in">strlen</span>(t); i++)&#123;</span><br><span class="line">            vi[t[i]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="built_in">strlen</span>(p); i++)&#123;</span><br><span class="line">            v[p[i]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">bool</span> flag=<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="built_in">strlen</span>(s); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(j==<span class="built_in">strlen</span>(t))&#123;</span><br><span class="line">                flag=<span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(; j&lt;<span class="built_in">strlen</span>(t); j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(t[j] == s[i])&#123;</span><br><span class="line">                    <span class="comment">//printf("%c\n",t[j]);</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(t[j]!=s[i])&#123;</span><br><span class="line">                flag=<span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="string">'a'</span>; i&lt;=<span class="string">'z'</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(vis[i]==vi[i]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(vis[i]&lt;vi[i] &amp;&amp; vis[i]+v[i]&gt;=vi[i])&#123;</span><br><span class="line">                v[i]--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                flag=<span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag) <span class="built_in">puts</span>(<span class="string">"YES"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"NO"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D-1-2-K-Game"><a href="#D-1-2-K-Game" class="headerlink" title="D.1-2-K Game"></a><a href="https://codeforces.com/contest/1194/problem/D" target="_blank" rel="noopener">D.1-2-K Game</a></h2><p>é¢˜æ„ï¼šç»™ä½ ä¸€å †çŸ³å­æ•°é‡ä¸ºnï¼Œä½ ä¸€æ¬¡åªèƒ½æ‹¿èµ°1æˆ–2æˆ–kï¼Œæœ€åä¸€ä¸ªæ²¡æœ‰çŸ³å­æ‹¿çš„äººè¾“ï¼ˆæè¿°ä¸é¢˜ç›®è¯´æ³•ä¸ä¸€æ ·ï¼Œæœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼‰</p><p>æ€è·¯ï¼šåšå¼ˆé¢˜ã€‚</p><p>åˆ†æƒ…å†µè®¨è®ºï¼Œé¦–å…ˆ0æ˜¯å¿…è´¥æ€ï¼Œ1ï¼Œ2æ˜¯å¿…èƒœæ€ï¼Œç„¶å3æ˜¯å¿…è´¥æ€â€¦ä¸€ç›´åˆ°$k$æ˜¯å¿…èƒœæ€ã€‚<br>å¦‚æœ$n&lt;k$ï¼Œé‚£ä¹ˆæˆ‘åªèƒ½æ‹¿1æˆ–2ï¼Œæ ¹æ®å·´ä»€åšå¼ˆï¼Œå½“$n \equiv 0(mod \ 3)$å¿…è´¥ï¼Œå¦åˆ™å¿…èƒœã€‚</p><p>æ¥ä¸‹æ¥è®¨è®º$n \geq k$çš„æƒ…å†µï¼š</p><p>é‚£å¦‚æœ$k \not\equiv 0(mod \ 3)$çš„è¯ï¼Œé‚£ä¹ˆ$k$ä¸€å®šæ˜¯å¿…èƒœæ€ï¼Œ$k-1$å’Œ$k+1$å¿…æœ‰ä¸€ä¸ªå¿…èƒœæ€ï¼Œå‡è®¾$k\equiv 1(mod \ 3)$ï¼Œé‚£ä¹ˆ$k-1$å°±æ˜¯å¿…è´¥æ€ï¼Œ$k+1$å°±æ˜¯å¿…èƒœæ€ï¼Œç„¶åä¸€ç›´ä¸‹å»å’Œå‰é¢å·´ä»€åšå¼ˆè§„å¾‹ä¸€æ ·ï¼Œ$k\equiv 2(mod \ 3)$ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p>é‚£ä¹ˆå¦‚æœ$k\equiv 0(mod \ 3)$çš„è¯ï¼Œ$k-1$å¿…èƒœæ€ï¼Œ$k$å¿…èƒœæ€ï¼Œ$k+1$å¿…è´¥ï¼Œ$k+2$ï¼Œ$k+3$å¿…èƒœ â€¦â€¦$k+k-1$ å’Œ $k+k$æ˜¯å¿…èƒœæ€ $2 * k+1$å¿…èƒœ(å› ä¸ºå¯ä»¥æ‹¿$k$ä½¿å¾—å˜æˆå¿…è´¥æ€)ï¼Œæ‰€ä»¥è§„å¾‹å°±å‡ºæ¥äº†ï¼Œå½“$n \equiv k (mod \ (k+1))$å°±æ˜¯å¿…èƒœæ€ï¼Œå¦åˆ™å°±åˆ¤æ–­<code>n%(k+1)%3â€‹</code>çš„å€¼ï¼Œå¦‚æœç­‰äº0ï¼Œå°±æ˜¯å¿…è´¥æ€ï¼Œå¦åˆ™å°±æ˜¯å¿…èƒœæ€ã€‚</p><p><del>ä¸ä¼šsgå‡½æ•°ï¼Œåªèƒ½æ‰‹æ¨</del></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">110</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tt;</span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;tt);</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(tt--)&#123;</span><br><span class="line">        <span class="keyword">int</span> n,k;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;k);</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">//printf("%d %d %d ",cnt++,n,k);</span></span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">"Bob"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(k == n || n&lt;=<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="comment">//printf("%d %d %d ",cnt++,n,k);</span></span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">"Alice"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(n&lt;k||k%<span class="number">3</span>!=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">//printf("%d %d %d ",cnt++,n,k);</span></span><br><span class="line">            <span class="keyword">if</span>(n%<span class="number">3</span>!=<span class="number">0</span>) <span class="built_in">puts</span>(<span class="string">"Alice"</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"Bob"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//printf("%d %d %d ",cnt++,n,k);</span></span><br><span class="line">            <span class="keyword">int</span> tmp=n%(k+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(tmp == k) <span class="built_in">puts</span>(<span class="string">"Alice"</span>);</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(tmp%<span class="number">3</span>==<span class="number">0</span>) <span class="built_in">puts</span>(<span class="string">"Bob"</span>);</span><br><span class="line">                <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"Alice"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;del&gt;æ—¥å¸¸æ‰åˆ†&lt;/del&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="codeforces" scheme="http://yoursite.com/categories/codeforces/"/>
    
    
  </entry>
  
  <entry>
    <title>Codeforces Round#573(Div 2)</title>
    <link href="http://yoursite.com/2019/07/13/cf190712/"/>
    <id>http://yoursite.com/2019/07/13/cf190712/</id>
    <published>2019-07-13T02:42:41.852Z</published>
    <updated>2019-07-13T14:05:18.302Z</updated>
    
    <content type="html"><![CDATA[<p>åˆæ˜¯æ·±å¤œè‚é¢˜ï¼Œä¸è¿‡è¿™æ¬¡è¢«ç–¯ç‹‚å¡é¢˜ï¼Œæ¶¨åˆ†+0<del>ï¼ˆå°å¹¸è¿ï¼‰</del></p><a id="more"></a><h2 id="A-Tokitsukaze-and-Enhancement"><a href="#A-Tokitsukaze-and-Enhancement" class="headerlink" title="A.Tokitsukaze and Enhancement"></a><a href="https://codeforces.com/contest/1191/problem/A" target="_blank" rel="noopener">A.Tokitsukaze and Enhancement</a></h2><p>é¢˜æ„ï¼šå¯¹äºä¸€ä¸ªæ•°ï¼Œå¦‚æœå¯¹4å–ä½™ä¹‹åï¼Œä½™æ•°ä¸º1,3,2,0æ—¶ï¼Œç­‰çº§ä¸º$A,B,C,D$ï¼Œä¼˜å…ˆçº§é™ä½ã€‚ç»™ä½ ä¸€ä¸ªæ•°ï¼Œä½ èƒ½åŠ 0ï¼Œ1ï¼Œ2ï¼Œä½ èƒ½è¾¾åˆ°çš„æœ€é«˜ç­‰çº§æ˜¯ä»€ä¹ˆã€‚</p><p>æ€è·¯ï¼šæš´åŠ›æ¨¡æ‹Ÿ<del>ï¼Œè¿˜å¯ä»¥æ‰¾è§„å¾‹ç›´æ¥è¾“å‡ºçš„</del>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cal</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x%<span class="number">4</span>==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(x%<span class="number">4</span>==<span class="number">3</span>) <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(x%<span class="number">4</span>==<span class="number">2</span>) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">int</span> x1=n,x2=n+<span class="number">1</span>,x3=n+<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> a1=cal(x1),a2=cal(x2),a3=cal(x3);</span><br><span class="line">    <span class="keyword">if</span>(a1 &gt; a2 &amp;&amp; a1&gt;a3)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0 %c"</span>,<span class="string">'A'</span>+<span class="number">4</span>-a1);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(a2&gt;a1 &amp; a2&gt;a3)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"1 %c"</span>,<span class="string">'A'</span>+<span class="number">4</span>-a2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"2 %c"</span>,<span class="string">'A'</span>+<span class="number">4</span>-a3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Tokitsukaze-and-Mahjong"><a href="#B-Tokitsukaze-and-Mahjong" class="headerlink" title="B.Tokitsukaze and Mahjong"></a><a href="https://codeforces.com/contest/1191/problem/B" target="_blank" rel="noopener">B.Tokitsukaze and Mahjong</a></h2><p>é¢˜æ„ï¼šæœ‰ä¸‰ç§èŠ±è‰²çš„éº»å°†${m,p,s }$ï¼Œæ¯ä¸ªèŠ±è‰²æœ‰1-9çš„æ•°å­—ï¼Œé—®ä½ æœ€å°‘è¿˜è¦æŠ“å¤šå°‘ä¸ªç‰Œå°±å¯ä»¥å‡‘æˆåŒèŠ±é¡ºå«ä¸‰ä¸ªæˆ–è€…ä¸‰ä¸ªä¸€æ¨¡ä¸€æ ·çš„ç‰Œã€‚</p><p>æ€è·¯ï¼šæ¨¡æ‹Ÿé¢˜ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> s[<span class="number">11</span>],m[<span class="number">11</span>],p[<span class="number">11</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cal</span><span class="params">(<span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(c == <span class="string">'s'</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'m'</span>) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ok</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">9</span>; i++) <span class="keyword">if</span>(s[i]==<span class="number">3</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">9</span>; i++) <span class="keyword">if</span>(m[i]==<span class="number">3</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">9</span>; i++) <span class="keyword">if</span>(p[i]==<span class="number">3</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">7</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="number">1</span> &amp;&amp; s[i+<span class="number">1</span>]==<span class="number">1</span> &amp;&amp; s[i+<span class="number">2</span>]==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">7</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(m[i]==<span class="number">1</span> &amp;&amp; m[i+<span class="number">1</span>]==<span class="number">1</span> &amp;&amp; m[i+<span class="number">2</span>]==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">7</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(p[i]==<span class="number">1</span> &amp;&amp; p[i+<span class="number">1</span>]==<span class="number">1</span> &amp;&amp; p[i+<span class="number">2</span>]==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">okk</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">8</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="number">1</span> &amp;&amp; s[i+<span class="number">1</span>]==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">8</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(m[i]==<span class="number">1</span> &amp;&amp; m[i+<span class="number">1</span>]==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">8</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(p[i]==<span class="number">1</span> &amp;&amp; p[i+<span class="number">1</span>]==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">okkk</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">7</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="number">1</span> &amp;&amp; s[i+<span class="number">2</span>]==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">7</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(m[i]==<span class="number">1</span> &amp;&amp; m[i+<span class="number">2</span>]==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">7</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(p[i]==<span class="number">1</span> &amp;&amp; p[i+<span class="number">2</span>]==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">okkkk</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">9</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="number">2</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">9</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(m[i]==<span class="number">2</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">9</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(p[i]==<span class="number">2</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c1,c2,c3;</span><br><span class="line">    <span class="keyword">int</span> x,y,z;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%c %d%c %d%c"</span>,&amp;x,&amp;c1,&amp;y,&amp;c2,&amp;z,&amp;c3);</span><br><span class="line">    <span class="keyword">if</span>(cal(c1)==<span class="number">1</span>) s[x]++;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(cal(c1)==<span class="number">2</span>) m[x]++;</span><br><span class="line">    <span class="keyword">else</span> p[x]++;</span><br><span class="line">    <span class="keyword">if</span>(cal(c2)==<span class="number">1</span>) s[y]++;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(cal(c2)==<span class="number">2</span>) m[y]++;</span><br><span class="line">    <span class="keyword">else</span> p[y]++;</span><br><span class="line">    <span class="keyword">if</span>(cal(c3)==<span class="number">1</span>) s[z]++;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(cal(c3)==<span class="number">2</span>) m[z]++;</span><br><span class="line">    <span class="keyword">else</span> p[z]++;</span><br><span class="line">    <span class="keyword">if</span>(ok()) <span class="built_in">puts</span>(<span class="string">"0"</span>);</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(okk() || okkk() || okkkk()) <span class="built_in">puts</span>(<span class="string">"1"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"2"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Tokitsukaze-and-Discard-Items"><a href="#C-Tokitsukaze-and-Discard-Items" class="headerlink" title="C.Tokitsukaze and Discard Items"></a><a href="https://codeforces.com/contest/1191/problem/C" target="_blank" rel="noopener">C.Tokitsukaze and Discard Items</a></h2><p>é¢˜æ„ï¼šå¾ˆå¤šé¡µé¢ï¼Œå¯¹äºæ¯ä¸€ä¸ªé¡µé¢è¿›è¡Œåˆ é™¤ç‰¹æ®Šæ•°çš„æ“ä½œï¼Œæ¯åˆ é™¤ä¸€ä¸ªé¡µé¢çš„æ•°å°±è¦ä»åé¢ç§»åŠ¨è‹¥å¹²ä¸ªæ•°æ¥å¡«è¡¥ï¼Œé—®ä½ æœ€ç»ˆæˆ‘è¦è¿›è¡Œå‡ æ¬¡åˆ é™¤æ“ä½œã€‚</p><p>æ€è·¯ï¼šç”±äºnæœ€å¤šæœ‰$10^{18}$ï¼Œç›´æ¥åœ¨nä¸­æŸ¥æ‰¾è‚¯å®šä¸è¡Œï¼Œæ‰€ä»¥ç›´æ¥å¯¹mä¸ªç‰¹æ®Šçš„æ•°æ“ä½œï¼Œç„¶åå°±æ˜¯ä¸€é“æ¨¡æ‹Ÿé¢˜ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> ll maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line">ll n,k,m;</span><br><span class="line">ll a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld"</span>,&amp;n,&amp;m,&amp;k);</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;m; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    ll sum=<span class="number">0</span>;</span><br><span class="line">    ll l=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;m; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]-ans&lt;=k)&#123;</span><br><span class="line">            l++;</span><br><span class="line">            <span class="keyword">if</span>(sum == <span class="number">0</span>) sum++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            ans+=l;</span><br><span class="line">            <span class="keyword">if</span>(a[i]-ans&gt;k)&#123;</span><br><span class="line">                ll tmp=(a[i]-ans<span class="number">-1</span>)/k;</span><br><span class="line">                ans+=(tmp*k);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//printf("%lld\n",ans);</span></span><br><span class="line">            l=<span class="number">1</span>;</span><br><span class="line">            sum++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D-Tokitsukaze-CSL-and-Stone-Game"><a href="#D-Tokitsukaze-CSL-and-Stone-Game" class="headerlink" title="D.Tokitsukaze, CSL and Stone Game"></a><a href="https://codeforces.com/contest/1191/problem/D" target="_blank" rel="noopener">D.Tokitsukaze, CSL and Stone Game</a></h2><p>é¢˜æ„ï¼šä¸¤ä¸ªäººç©nå †çŸ³å­æ¸¸æˆï¼Œæ¯ä¸ªäººæ‹¿ä¸€é¢—ï¼Œå¦‚æœè½®åˆ°ä¸€ä¸ªäººæ²¡çŸ³å­æ‹¿äº†æˆ–è€…æ‹¿äº†ä¹‹åå­˜åœ¨ä¸¤å †çŸ³å­çš„æ•°é‡ä¸€æ ·ï¼Œå°±è¾“ï¼Œé—®ä½ è°èµ¢ï¼Ÿ</p><p>æ€è·¯ï¼šå¦‚æœå¯¹äºç¬¬ä¸€ä¸ªäººæ— è®ºæ€ä¹ˆå–éƒ½è¾“äº†ï¼Œé‚£ä¹ˆå°±ç›´æ¥è¾“å‡ºç¬¬äºŒä¸ªäººèµ¢ï¼Œå¦åˆ™å°±ä¸€å®šä¼šåˆ°0,1,2,3,â€¦,n-1çŠ¶æ€ï¼Œé‚£ä¹ˆåªè¦çœ‹åˆ°è¿™ä¸ªçŠ¶æ€æ‹¿çŸ³å­æ•°é‡çš„å¥‡å¶æ€§å³å¯ã€‚</p><p>å¯¹äºç¬¬ä¸€ä¸ªäººçš„å¿…è¾“çŠ¶æ€æœ‰å¦‚ä¸‹å››ç§</p><p>$cnt_0 \geq 2 $</p><p>$\exists  x \ ,\ cnt_x \geq 3$</p><p>$\exists {x,y} ,\ cnt_x \geq 2 \ and\ cnt_y \geq 2$</p><p>$\exists{x}, \ cnt_x\geq2 \ and \ cnt_{x-1}\geq1$</p><p>åˆ¤æ–­å³å¯ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line">ll n;</span><br><span class="line"><span class="built_in">map</span>&lt;ll,ll&gt;ma;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;n);</span><br><span class="line">    ll sum=<span class="number">0</span>,x;</span><br><span class="line">    ll aa=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">bool</span> flag=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;x);</span><br><span class="line">        ma[x]++;</span><br><span class="line">        <span class="keyword">if</span>(ma[x]==<span class="number">3</span> || (ma[x]&gt;=<span class="number">2</span>&amp;&amp;ma[x<span class="number">-1</span>]&gt;<span class="number">0</span>) || (ma[x]&gt;<span class="number">0</span> &amp;&amp; ma[x+<span class="number">1</span>]&gt;=<span class="number">2</span>)) flag=<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(ma[x]==<span class="number">2</span>) aa++;</span><br><span class="line">        sum+=x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag || aa&gt;=<span class="number">2</span> || ma[<span class="number">0</span>]&gt;=<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"cslnb"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ll tmp=(<span class="number">0</span>+n<span class="number">-1</span>)*n/<span class="number">2</span>;</span><br><span class="line">    sum-=tmp;</span><br><span class="line">    <span class="keyword">if</span>(sum&amp;<span class="number">1</span>) <span class="built_in">puts</span>(<span class="string">"sjfnb"</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"cslnb"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åˆæ˜¯æ·±å¤œè‚é¢˜ï¼Œä¸è¿‡è¿™æ¬¡è¢«ç–¯ç‹‚å¡é¢˜ï¼Œæ¶¨åˆ†+0&lt;del&gt;ï¼ˆå°å¹¸è¿ï¼‰&lt;/del&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="codeforces" scheme="http://yoursite.com/categories/codeforces/"/>
    
    
  </entry>
  
  <entry>
    <title>åŒºé—´dp</title>
    <link href="http://yoursite.com/2019/07/11/%E5%8C%BA%E9%97%B4dp/"/>
    <id>http://yoursite.com/2019/07/11/åŒºé—´dp/</id>
    <published>2019-07-11T15:03:13.833Z</published>
    <updated>2019-07-13T02:50:06.241Z</updated>
    
    <content type="html"><![CDATA[<p>å¤ä¹ ä¸€æ³¢åŒºé—´dpï¼Œä¸ç„¶æœ‰æ—¶å€™ç„å­¦åŒºé—´dpè¿‡é¢˜å¾ˆéš¾å—ï¼Œé¢˜ç›®æ¥æºï¼š<a href="https://cn.vjudge.net/contest/308873#overview" target="_blank" rel="noopener">[kuangbinå¸¦ä½ é£]ä¸“é¢˜äºŒåäºŒ åŒºé—´DP</a> ã€‚</p><a id="more"></a><h2 id="A-Halloween-Costumes"><a href="#A-Halloween-Costumes" class="headerlink" title="A-Halloween Costumes"></a><a href="https://cn.vjudge.net/contest/308873#problem/A" target="_blank" rel="noopener">A-Halloween Costumes</a></h2><p>é¢˜æ„ï¼šæœ‰nä¸ªä¸‡åœ£èŠ‚èšä¼šï¼Œæ¯ä¸ªèšä¼šæœ‰è¦ç©¿ä¸€ç§è¡£æœè¿‡å»$a_i$ï¼Œå¯ä»¥å°†ä¸€ä»¶è¡£æœå¥—åœ¨æœ¬æ¥ç©¿çš„è¡£æœä¸Šï¼Œå¦‚æœå‚åŠ çš„èšä¼šè¦ç©¿çš„è¿™ç§è¡£æœåœ¨æˆ‘å¤–é¢å¥—çš„è¡£æœçš„é‡Œé¢ï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼Œè¦ä¹ˆé‡æ–°æ‹¿ä¸€ä»¶å¯¹åº”æ ·å¼çš„è¡£æœï¼Œè¦ä¹ˆè„±ä¸‹ç©¿åœ¨å¯¹åº”æ ·å¼å¤–çš„æ‰€æœ‰è¡£æœï¼›å¦‚æœé‡Œé¢æ²¡æœ‰å¯¹åº”æ ·å¼çš„è¡£æœï¼Œå°±è¦é‡æ–°å¦æ‹¿ä¸€ä»¶ã€‚è„±ä¸‹çš„è¡£æœä¸èƒ½é‡æ–°ç©¿å›å»<del>ï¼ˆæœ‰äº›æ‹—å£ï¼Œå»ºè®®çœ‹é¢˜ç›®è‡ªè¡Œä½“ä¼šï¼Œè¯­æ–‡æ°´å¹³æœ‰é™ï¼‰</del>ï¼Œé—®ä½ å¯¹äºæ‰€æœ‰èšä¼šï¼Œæ‰€éœ€æœ€å°‘çš„è¡£æœæ•°é‡ã€‚</p><p>æ€è·¯ï¼š<code>dp[i][j]</code>ä»£è¡¨åŒºé—´iåˆ°jæ‰€éœ€æœ€å°‘çš„æ•°ç›®ï¼Œé‚£ä¹ˆé¦–å…ˆæœ‰<code>dp[i][j]=dp[i][j-1]+1</code>ï¼Œç„¶ååœ¨æšä¸¾æ–­ç‚¹çš„æ—¶å€™ï¼Œå¦‚æœæšä¸¾çš„æ–­ç‚¹kï¼Œæœ‰<code>a[k]=a[j]</code>çš„è¯ï¼Œé‚£ä¹ˆå¯¹äºjè¿™ä¸€ç‚¹ï¼Œæˆ‘å¯ä»¥è„±ä¸‹<code>dp[k+1][j-1]</code>ä»¶è¡£æœï¼Œå›åˆ°kè¿™ä¸€ä¸ªçŠ¶æ€ç‚¹ï¼Œå³<code>dp[i][j]=min(dp[i][j],dp[i][k]+dp[k+1][j-1])</code>ï¼Œæ³¨æ„æ¡ä»¶ä¸æ˜¯<code>a[i]=a[k]</code>ï¼Œå› ä¸ºiåˆ°kä¸­çš„çŠ¶æ€å¯èƒ½ä¼šå½±å“åˆ°kåˆ°jçš„çŠ¶æ€ï¼ˆæ¯”å¦‚è¯´åœ¨kç‚¹ï¼Œæˆ‘è„±ä¸‹äº†ä¸€ä»¶åé¢è¦ç”¨åˆ°çš„è¡£æœï¼Œå°±ä¼šæœ‰çŸ›ç›¾ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">110</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn],a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t,cnt=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">            dp[i][i]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> len=<span class="number">2</span>; len&lt;=n; len++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">                <span class="keyword">int</span> j=i+len<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">if</span>(j&gt;n) <span class="keyword">break</span>;</span><br><span class="line">                dp[i][j]=dp[i][j<span class="number">-1</span>]+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=i; k&lt;j; k++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(a[k] == a[j]) dp[i][j]=min(dp[i][j],dp[i][k]+dp[k+<span class="number">1</span>][j<span class="number">-1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %d\n"</span>,cnt++,dp[<span class="number">1</span>][n]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Brackets"><a href="#B-Brackets" class="headerlink" title="B-Brackets"></a><a href="https://cn.vjudge.net/contest/308873#problem/B" target="_blank" rel="noopener">B-Brackets</a></h2><p>é¢˜æ„ï¼šä¸€ä¸ªæ‹¬å·åºåˆ—ï¼Œé—®ä½ æœ€é•¿çš„åŒ¹é…å­åºåˆ—é•¿ä¸ºå¤šå°‘ã€‚</p><p>æ€è·¯ï¼šåŒºé—´dpï¼Œè½¬ç§»æ–¹ç¨‹ï¼šå¦‚æœkå’Œjèƒ½åŒ¹é…ï¼Œ<code>dp[i][j]=max(dp[i][j],dp[i][k],dp[i][k-1]+dp[k+1][j-1]+2)</code>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">110</span>;</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn];</span><br><span class="line"><span class="keyword">char</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">c</span><span class="params">(<span class="keyword">char</span> c1,<span class="keyword">char</span> c2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(c1==<span class="string">'('</span> &amp;&amp; c2==<span class="string">')'</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(c1==<span class="string">'['</span> &amp;&amp; c2==<span class="string">']'</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>,a+<span class="number">1</span>))&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(a+<span class="number">1</span>,<span class="string">"end"</span>) == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">int</span> n=<span class="built_in">strlen</span>(a+<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> len=<span class="number">2</span>; len&lt;=n; len++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">                <span class="keyword">int</span> j=i+len<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">if</span>(j&gt;n) <span class="keyword">break</span>;</span><br><span class="line">                dp[i][j]=dp[i][j<span class="number">-1</span>];</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=i; k&lt;j; k++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(c(a[k],a[j])) dp[i][j]=max(dp[i][j],dp[i][k<span class="number">-1</span>]+dp[k+<span class="number">1</span>][j<span class="number">-1</span>]+<span class="number">2</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[<span class="number">1</span>][n]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="F-You-Are-the-One"><a href="#F-You-Are-the-One" class="headerlink" title="F-You Are the One"></a><a href="https://cn.vjudge.net/contest/308873#problem/F" target="_blank" rel="noopener">F-You Are the One</a></h2><p>é¢˜æ„ï¼šæœ‰$n$ä¸ªäººï¼Œæ¯ä¸ªäººæœ‰ä¸€ä¸ªæ„¤æ€’å€¼$a_i$ï¼Œæœ‰ä¸€ä¸ªå°æˆ¿é—´ï¼Œæ ¹æ®é¢˜ç›®æ„æ€è¿™ä¸ªå°æˆ¿é—´å®ç°çš„å †æ ˆçš„åŠŸèƒ½ï¼Œç„¶åå¯¹äºæ¯ä¸ªäººï¼Œå¦‚æœä»–å‰é¢æœ‰$k$ä¸ªäººï¼Œä»–å°±ä¼šæœ‰$a_i * k$çš„æ„¤æ€’å€¼ï¼Œå°æˆ¿é—´é€šè¿‡å †æ ˆåŸç†å¯ä»¥å®ç°å°†ä½ç½®å¾®è°ƒï¼Œ$n$ä¸ªäººå¿…é¡»ä¾æ¬¡è¿›å…¥å°æˆ¿é—´ï¼Œé—®ä½ æœ€å°çš„æ„¤æ€’å€¼ã€‚</p><p>æ€è·¯ï¼šåŒºé—´dpï¼Œè€Œåˆ°æšä¸¾æ–­ç‚¹çš„æ—¶å€™æ˜¯æšä¸¾ç¬¬iä¸ªäººç¬¬å‡ ä¸ªå‡ºå»çš„ï¼Œè¯¦æƒ…çœ‹ä»£ç ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">110</span>;</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn];</span><br><span class="line"><span class="keyword">char</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> sum[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t,n,cnt=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">            sum[i]=sum[i<span class="number">-1</span>]+a[i];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;=n; j++) dp[i][j]=inf;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> len=<span class="number">2</span>; len&lt;=n; len++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">                <span class="keyword">int</span> j=i+len<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">if</span>(j&gt;n) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>; k&lt;=len; k++)&#123;</span><br><span class="line">                    dp[i][j]=min(dp[i][j],dp[i+<span class="number">1</span>][k+i<span class="number">-1</span>]+dp[i+k][j]+a[i]*(k<span class="number">-1</span>)+(sum[j]-sum[i+k<span class="number">-1</span>])*k);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d: %d\n"</span>,cnt++,dp[<span class="number">1</span>][n]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="G-String-painter"><a href="#G-String-painter" class="headerlink" title="G-String painter"></a><a href="https://cn.vjudge.net/contest/308873#problem/G" target="_blank" rel="noopener">G-String painter</a></h2><p>é¢˜æ„ï¼šä¸¤ä¸ªç›¸åŒé•¿åº¦çš„å­—ç¬¦ä¸²så’Œtï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€æ®µåŒºé—´ï¼Œå°†å…¶å˜æˆåŒä¸€ä¸ªå­—ç¬¦ï¼Œé—®ä½ å°†ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²åˆ·æˆç¬¬äºŒä¸²æœ€å°éœ€è¦å¤šå°‘ä¸ªæ“ä½œã€‚</p><p>æ€è·¯ï¼šå’ŒAé¢˜éå¸¸ç›¸ä¼¼ï¼Œå…ˆç”¨Aé¢˜çš„æ€è·¯å°†å­—ç¬¦ä¸²så¤„ç†å¥½ï¼Œ<code>dp[i][j]</code>ä»£è¡¨åŒºé—´iåˆ°jå˜æˆä»»æ„å…¶ä»–çš„å­—ç¬¦æ‰€éœ€çš„æœ€å°æ­¥æ•°ï¼Œç„¶åå†å¯¹tå­—ç¬¦ä¸²è¿›è¡Œå¤„ç†ï¼Œä¹Ÿæ˜¯åŒºé—´dpçš„æ€ç»´ï¼Œ<code>a[i]</code>ä»£è¡¨ä»1åˆ°iåŒºé—´æ‰€éœ€çš„æœ€å°æ“ä½œã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">110</span>;</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn];</span><br><span class="line"><span class="keyword">char</span> s[maxn],t[maxn];</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%s %s"</span>,s+<span class="number">1</span>,t+<span class="number">1</span>))&#123;</span><br><span class="line">        <span class="keyword">int</span> n=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) dp[i][i]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> len=<span class="number">2</span>; len&lt;=n; len++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">                <span class="keyword">int</span> j=i+len<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">if</span>(j&gt;n) <span class="keyword">break</span>;</span><br><span class="line">                dp[i][j]=dp[i][j<span class="number">-1</span>]+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=i; k&lt;j; k++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(t[k] == t[j]) dp[i][j]=min(dp[i][j],dp[i][k]+dp[k+<span class="number">1</span>][j<span class="number">-1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) a[i]=dp[<span class="number">1</span>][i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i] == t[i]) a[i]=a[i<span class="number">-1</span>];</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;i; j++)</span><br><span class="line">                a[i]=min(a[i],a[j]+dp[j+<span class="number">1</span>][i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a[n]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¤ä¹ ä¸€æ³¢åŒºé—´dpï¼Œä¸ç„¶æœ‰æ—¶å€™ç„å­¦åŒºé—´dpè¿‡é¢˜å¾ˆéš¾å—ï¼Œé¢˜ç›®æ¥æºï¼š&lt;a href=&quot;https://cn.vjudge.net/contest/308873#overview&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;[kuangbinå¸¦ä½ é£]ä¸“é¢˜äºŒåäºŒ åŒºé—´DP&lt;/a&gt; ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="dp" scheme="http://yoursite.com/categories/dp/"/>
    
    
  </entry>
  
  <entry>
    <title>hash</title>
    <link href="http://yoursite.com/2019/07/11/hash/"/>
    <id>http://yoursite.com/2019/07/11/hash/</id>
    <published>2019-07-11T08:44:34.974Z</published>
    <updated>2019-08-06T03:47:06.242Z</updated>
    
    <content type="html"><![CDATA[<p><del>é‡åˆ°hashçš„é¢˜ç›®é»˜é»˜æµä¸‹çœ¼æ³ªğŸ˜¥</del></p><a id="more"></a><h2 id="å°wçš„a-bé—®é¢˜"><a href="#å°wçš„a-bé—®é¢˜" class="headerlink" title="å°wçš„a=bé—®é¢˜"></a><a href="https://ac.nowcoder.com/acm/contest/923/B" target="_blank" rel="noopener">å°wçš„a=bé—®é¢˜</a></h2><p>é¢˜æ„ï¼šç»™ä½ ä¸¤ä¸ªæ•°ç»„aå’Œbï¼Œé•¿åº¦ä¸ºnå’Œmï¼Œé—®ä½ $\prod_{i=1}^{n}a_i ! $æ˜¯å¦ç­‰äº$\prod_{i=1}^{m}b_i ! $ï¼Œå…¶ä¸­$1 \leq n,m \leq 10^5$,$0 \leq a_i,b_i \leq 10^5$</p><p><del>åˆæ¬¡é‡åˆ°è¿™ç§é¢˜ç›®ï¼Œæˆ‘ä»¥ä¸ºæ˜¯ä¸€ä¸ªæ¨å…¬å¼çš„é¢˜ç›®ï¼ŒæŠŠæˆ‘æ•´æ‡µäº†ï¼Œæœç„¶æ•°æ®ç»“æ„çš„çŸ¥è¯†è¿˜æ˜¯ç°å¸¸é‡è¦å•Š[ç‚¹å¤´]</del></p><p>æ€è·¯ï¼šç”¨ä¸¤ä¸ªæ¯”è¾ƒå¤§ä¸€ç‚¹çš„è´¨æ•°ä½œä¸ºæ¨¡ç³»ï¼Œç„¶åè®¡ç®—æ¯ä¸ªé˜¶ä¹˜$(0 \sim10^5)$æ‰€åœ¨æ¨¡ç³»hashå€¼ï¼Œç”¨ä¸¤ä¸ªå¯ä»¥ä¿è¯ä¸å†²çªçš„å‡ ç‡å¤§å¤§å‡å°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> ll maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line">ll mod1=<span class="number">1e9</span>+<span class="number">7</span>,mod2=<span class="number">1e9</span>+<span class="number">9</span>;</span><br><span class="line">ll m1[maxn],m2[maxn];</span><br><span class="line">ll t,n,m,a;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    m1[<span class="number">0</span>]=m2[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>; i&lt;maxn; i++)&#123;</span><br><span class="line">        m1[i]=m1[i<span class="number">-1</span>]*i%mod1;</span><br><span class="line">        m2[i]=m2[i<span class="number">-1</span>]*i%mod2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>,&amp;n,&amp;m);</span><br><span class="line">        ll s1=<span class="number">1</span>,s2=<span class="number">1</span>,s3=<span class="number">1</span>,s4=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;a);</span><br><span class="line">            s1=s1*m1[a]%mod1;</span><br><span class="line">            s2=s2*m2[a]%mod2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;m; i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;a);</span><br><span class="line">            s3=s3*m1[a]%mod1;</span><br><span class="line">            s4=s4*m2[a]%mod2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(s1==s3 &amp;&amp; s2==s4) <span class="built_in">puts</span>(<span class="string">"equal"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"unequal"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="å­—ç¬¦ä¸²hash"><a href="#å­—ç¬¦ä¸²hash" class="headerlink" title="å­—ç¬¦ä¸²hash"></a>å­—ç¬¦ä¸²hash</h2><p>ä¸Šé¢æ˜¯æ•°å­—çš„hashï¼Œè€Œå­—ç¬¦ä¸²çš„hashå°±æ˜¯ä¸€ä¸ª$O(n)$çš„é¢„å¤„ç†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="comment">//ull ä¼šæº¢å‡ºå–æ¨¡</span></span><br><span class="line"><span class="keyword">const</span> ull base=<span class="number">233</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line">ull hs[maxn],p[maxn];</span><br><span class="line"><span class="function">ull <span class="title">geths</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (ull)hs[r]-p[r-l+<span class="number">1</span>]*hs[l<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    p[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;maxn; i++) p[i]=p[i<span class="number">-1</span>]*base;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=len; i++)&#123;</span><br><span class="line">        hs[i]=hs[i<span class="number">-1</span>]*base+s[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="æ‰‹å†™hashï¼Œå¯ä»¥æ›¿ä»£mapåŠ é€ŸæŸ¥è¯¢"><a href="#æ‰‹å†™hashï¼Œå¯ä»¥æ›¿ä»£mapåŠ é€ŸæŸ¥è¯¢" class="headerlink" title="æ‰‹å†™hashï¼Œå¯ä»¥æ›¿ä»£mapåŠ é€ŸæŸ¥è¯¢"></a>æ‰‹å†™hashï¼Œå¯ä»¥æ›¿ä»£mapåŠ é€ŸæŸ¥è¯¢</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Hash</span>&#123;</span></span><br><span class="line">    ll mod = <span class="number">2908361</span>;</span><br><span class="line">    ll cnt = <span class="number">0</span>, Head[<span class="number">2908361</span>], nxt[<span class="number">1000006</span>];</span><br><span class="line">    ll val[<span class="number">1000006</span>], pos[<span class="number">1000006</span>];</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">memset</span>(Head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(Head)); cnt = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(ll x, ll v)</span></span>&#123;</span><br><span class="line">        ll key = x % mod;</span><br><span class="line">        pos[cnt] = x, val[cnt] = v, nxt[cnt] = Head[key];</span><br><span class="line">        Head[key] = cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">ll <span class="title">Find</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">        ll key = x % mod;</span><br><span class="line">        <span class="keyword">for</span>(ll i = Head[key]; ~i; i = nxt[i])&#123;</span><br><span class="line">            <span class="keyword">if</span>(pos[i] == x) <span class="keyword">return</span> val[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1l</span>l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;hs;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;del&gt;é‡åˆ°hashçš„é¢˜ç›®é»˜é»˜æµä¸‹çœ¼æ³ªğŸ˜¥&lt;/del&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
  </entry>
  
  <entry>
    <title>ä¸»å¸­æ ‘</title>
    <link href="http://yoursite.com/2019/07/10/%E4%B8%BB%E5%B8%AD%E6%A0%91/"/>
    <id>http://yoursite.com/2019/07/10/ä¸»å¸­æ ‘/</id>
    <published>2019-07-10T02:56:42.874Z</published>
    <updated>2019-07-11T10:15:36.486Z</updated>
    
    <content type="html"><![CDATA[<p><del>ç‹‚è¡¥æ•°æ®ç»“æ„çš„çŸ¥è¯†ï¼ï¼è¿˜éœ€æ…¢æ…¢æ¶ˆåŒ–ğŸ·</del>ä¸»å¸­æ ‘çš„æœ¬è´¨å°±æ˜¯çº¿æ®µæ ‘ï¼Œå«åšå¯æŒä¹…åŒ–çº¿æ®µæ ‘ï¼Œæœ€ä¸ºç»å…¸çš„é—®é¢˜å°±æ˜¯æŸ¥è¯¢åŒºé—´ç¬¬kå°çš„æ•°<del>(è¯´æ˜¯ç¬¬kå¤§ï¼Œ<a href="http://acm.hdu.edu.cn/showproblem.php?pid=2665" target="_blank" rel="noopener">HDU2665</a>ä¸Šé¢è¯´the  kth big numberâ€‹)</del>ï¼Œåˆ†é™æ€(ä¸å¸¦ä¿®æ”¹)å’ŒåŠ¨æ€(å¸¦ä¿®æ”¹)ä¸¤ç§ã€‚</p><a id="more"></a><h2 id="POJ2104-HDU2665-é™æ€"><a href="#POJ2104-HDU2665-é™æ€" class="headerlink" title="POJ2104||HDU2665(é™æ€)"></a><a href="http://poj.org/problem?id=2104" target="_blank" rel="noopener">POJ2104</a>||<a href="http://acm.hdu.edu.cn/showproblem.php?pid=2665" target="_blank" rel="noopener">HDU2665</a>(é™æ€)</h2><p>é¢˜æ„ï¼šä¸»å¸­æ ‘å…¥é—¨é¢˜ï¼Œé¢˜æ„æ˜¯æŸ¥è¯¢åŒºé—´å†…ç¬¬kå°ï¼Œä¸»å¸­æ ‘å…¥é—¨æ¨¡æ¿é¢˜ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡<a href="https://blog.csdn.net/williamsun0122/article/details/77871278" target="_blank" rel="noopener">blog</a>ã€‚<del>POJä¸Šé¢çš„æ•°æ®å¥½åƒæœ‰ç‚¹å¼±ï¼Œ</del>ã€‚</p><p>æ¯æ¬¡åŠ å…¥ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œå°±è¦æ›´æ–°çº¿æ®µæ ‘ï¼ŒT[i]ä»£è¡¨ç¬¬ié¢—çº¿æ®µæ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œsum[i]è¡¨ç¤ºèŠ‚ç‚¹iå¯¹åº”åŒºé—´çš„ä¸ªæ•°ï¼Œç„¶åæ ¹æ®çº¿æ®µæ ‘çš„æ€§è´¨ï¼Œå·¦è¾¹çš„å­èŠ‚ç‚¹æ€»æ¯”å³è¾¹çš„å­èŠ‚ç‚¹çš„æ•°å°ï¼Œé‚£ä¹ˆå·¦è¾¹å­èŠ‚ç‚¹æ€»æ•°å°±è¯´æ˜å·¦è¾¹å­èŠ‚ç‚¹çš„æœ€å°çš„æ•°è¿˜è¦å°ï¼Œç„¶åæ ¹æ®å·¦å³å­èŠ‚ç‚¹çš„ä¸ªæ•°å¯ä»¥åˆ¤æ–­å‡ºæˆ‘è¦æ‰¾çš„ç¬¬kå°æ•°åœ¨å“ªä¸ªåŒºé—´å†…ï¼Œé€’å½’æŸ¥æ‰¾å°±å¯ä»¥äº†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm=maxn*<span class="number">40</span>;</span><br><span class="line"><span class="keyword">int</span> T[maxn],L[maxm],R[maxm],sum[maxm];</span><br><span class="line"><span class="keyword">int</span> sz[maxn],h[maxn]; <span class="comment">//szä¸ºåŸåºåˆ—,hä¸ºç¦»æ•£åŒ–ä¹‹åçš„åºåˆ—</span></span><br><span class="line"><span class="keyword">int</span> n,q,ql,qr,k,tot;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span>&amp; rt,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    rt=++tot;</span><br><span class="line">    sum[rt]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(l == r) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    build(L[rt],l,mid);</span><br><span class="line">    build(R[rt],mid+<span class="number">1</span>,r);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span>&amp; rt,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> pre,<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    rt=++tot;</span><br><span class="line">    L[rt]=L[pre];</span><br><span class="line">    R[rt]=R[pre];</span><br><span class="line">    sum[rt]=sum[pre]+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(l == r) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(x &lt;= mid) update(L[rt],l,mid,L[pre],x);</span><br><span class="line">    <span class="keyword">else</span> update(R[rt],mid+<span class="number">1</span>,r,R[pre],x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> e,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r) <span class="keyword">return</span> l;</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> res=sum[L[e]]-sum[L[s]];</span><br><span class="line">    <span class="keyword">if</span>(k &lt;= res) <span class="keyword">return</span> query(L[s],L[e],l,mid,k);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> query(R[s],R[e],mid+<span class="number">1</span>,r,k-res);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;q);</span><br><span class="line">    tot=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;sz[i]);</span><br><span class="line">        h[i]=sz[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(h+<span class="number">1</span>,h+<span class="number">1</span>+n);</span><br><span class="line">    <span class="keyword">int</span> num=unique(h+<span class="number">1</span>,h+<span class="number">1</span>+n)-(h+<span class="number">1</span>);</span><br><span class="line">    build(T[<span class="number">0</span>],<span class="number">1</span>,num);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) update(T[i],<span class="number">1</span>,num,T[i<span class="number">-1</span>],lower_bound(h+<span class="number">1</span>,h+<span class="number">1</span>+num,sz[i])-(h));</span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;ql,&amp;qr,&amp;k);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,h[query(T[ql<span class="number">-1</span>],T[qr],<span class="number">1</span>,num,k)]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ZOJ-2122-Dynamic-Rankings-åŠ¨æ€"><a href="#ZOJ-2122-Dynamic-Rankings-åŠ¨æ€" class="headerlink" title="ZOJ-2122.Dynamic Rankings(åŠ¨æ€)"></a><a href="http://acm.zju.edu.cn/onlinejudge/showProblem.do?problemCode=2112" target="_blank" rel="noopener">ZOJ-2122.Dynamic Rankings(åŠ¨æ€)</a></h2><p>é¢˜æ„ï¼šåŠ¨æ€æ±‚åŒºé—´ç¬¬kå°ï¼Œå¯å‚è€ƒ<a href="https://blog.csdn.net/WilliamSun0122/article/details/77885781" target="_blank" rel="noopener">blog</a>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">6e4</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e4</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> T[maxn],S[maxn],L[maxn*<span class="number">32</span>],R[maxn*<span class="number">32</span>],sum[maxn*<span class="number">32</span>];</span><br><span class="line"><span class="keyword">int</span> sz[maxn],h[maxn];</span><br><span class="line"><span class="keyword">int</span> ul[maxn],ur[maxn];</span><br><span class="line"><span class="keyword">int</span> tot,num,n,q;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l,r,k;</span><br><span class="line">    <span class="keyword">bool</span> flag; <span class="comment">//tureä»£è¡¨Qï¼Œfalseä»£è¡¨C</span></span><br><span class="line">&#125;Q[maxm];  <span class="comment">//å­˜å‚¨è¯¢é—®</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span>&amp; rt,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    rt = ++tot;</span><br><span class="line">    sum[rt]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(l==r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    build(L[rt],l,mid);</span><br><span class="line">    build(R[rt],mid+<span class="number">1</span>,r);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span>&amp; rt,<span class="keyword">int</span> pre,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> x,<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">    rt = ++tot;</span><br><span class="line">    L[rt] = L[pre];</span><br><span class="line">    R[rt] = R[pre];</span><br><span class="line">    sum[rt] = sum[pre]+val;</span><br><span class="line">    <span class="keyword">if</span>(l==r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;=mid) update(L[rt],L[pre],l,mid,x,val);</span><br><span class="line">    <span class="keyword">else</span> update(R[rt],R[pre],mid+<span class="number">1</span>,r,x,val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&amp;(-x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = lower_bound(h+<span class="number">1</span>,h+<span class="number">1</span>+num,sz[x])-h;</span><br><span class="line">    <span class="keyword">while</span>(x&lt;=n)&#123;</span><br><span class="line">        update(S[x],S[x],<span class="number">1</span>,num,res,val);</span><br><span class="line">        x += lowbit(x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Sum</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">bool</span> flag)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(flag) res += sum[L[ur[x]]];</span><br><span class="line">        <span class="keyword">else</span> res += sum[L[ul[x]]];</span><br><span class="line">        x -= lowbit(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> e,<span class="keyword">int</span> ts,<span class="keyword">int</span> te,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==r) <span class="keyword">return</span> l;</span><br><span class="line">    <span class="keyword">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> res = Sum(e,<span class="literal">true</span>)-Sum(s,<span class="literal">false</span>)+sum[L[te]]-sum[L[ts]];</span><br><span class="line">    <span class="keyword">if</span>(k&lt;=res)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=e;i;i-=lowbit(i)) ur[i] = L[ur[i]];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=s;i;i-=lowbit(i)) ul[i] = L[ul[i]];</span><br><span class="line">        <span class="keyword">return</span> query(s,e,L[ts],L[te],l,mid,k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=e;i;i-=lowbit(i)) ur[i] = R[ur[i]];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=s;i;i-=lowbit(i)) ul[i] = R[ul[i]];</span><br><span class="line">        <span class="keyword">return</span> query(s,e,R[ts],R[te],mid+<span class="number">1</span>,r,k-res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="keyword">char</span> str[<span class="number">5</span>];</span><br><span class="line">        num=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;q);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">scanf</span>(<span class="string">"%d"</span>,sz+i),h[++num]=sz[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=q;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>,str);</span><br><span class="line">            <span class="keyword">if</span>(str[<span class="number">0</span>]==<span class="string">'Q'</span>)&#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;Q[i].l,&amp;Q[i].r,&amp;Q[i].k);</span><br><span class="line">                Q[i].flag=<span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;Q[i].l,&amp;Q[i].r);</span><br><span class="line">                Q[i].flag=<span class="literal">false</span>;</span><br><span class="line">                h[++num]=Q[i].r;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(h+<span class="number">1</span>,h+<span class="number">1</span>+num);</span><br><span class="line">        <span class="keyword">int</span> tmp = unique(h+<span class="number">1</span>,h+<span class="number">1</span>+num)-h<span class="number">-1</span>;</span><br><span class="line">        num = tmp;</span><br><span class="line">        tot=<span class="number">0</span>;</span><br><span class="line">        build(T[<span class="number">0</span>],<span class="number">1</span>,num);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) update(T[i],T[i<span class="number">-1</span>],<span class="number">1</span>,num,lower_bound(h+<span class="number">1</span>,h+<span class="number">1</span>+num,sz[i])-h,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) S[i] = T[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=q;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(Q[i].flag)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=Q[i].r;j;j-=lowbit(j)) ur[j] = S[j];</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=Q[i].l<span class="number">-1</span>;j;j-=lowbit(j)) ul[j] = S[j];</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,h[query(Q[i].l<span class="number">-1</span>,Q[i].r,T[Q[i].l<span class="number">-1</span>],T[Q[i].r],<span class="number">1</span>,num,Q[i].k)]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                add(Q[i].l,<span class="number">-1</span>);</span><br><span class="line">                sz[Q[i].l] = Q[i].r;</span><br><span class="line">                add(Q[i].l,<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;del&gt;ç‹‚è¡¥æ•°æ®ç»“æ„çš„çŸ¥è¯†ï¼ï¼è¿˜éœ€æ…¢æ…¢æ¶ˆåŒ–ğŸ·&lt;/del&gt;ä¸»å¸­æ ‘çš„æœ¬è´¨å°±æ˜¯çº¿æ®µæ ‘ï¼Œå«åšå¯æŒä¹…åŒ–çº¿æ®µæ ‘ï¼Œæœ€ä¸ºç»å…¸çš„é—®é¢˜å°±æ˜¯æŸ¥è¯¢åŒºé—´ç¬¬kå°çš„æ•°&lt;del&gt;(è¯´æ˜¯ç¬¬kå¤§ï¼Œ&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=2665&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;HDU2665&lt;/a&gt;ä¸Šé¢è¯´the  kth big numberâ€‹)&lt;/del&gt;ï¼Œåˆ†é™æ€(ä¸å¸¦ä¿®æ”¹)å’ŒåŠ¨æ€(å¸¦ä¿®æ”¹)ä¸¤ç§ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
  </entry>
  
  <entry>
    <title>è«é˜Ÿç®—æ³•</title>
    <link href="http://yoursite.com/2019/07/08/%E8%8E%AB%E9%98%9F%E7%AE%97%E6%B3%95/"/>
    <id>http://yoursite.com/2019/07/08/è«é˜Ÿç®—æ³•/</id>
    <published>2019-07-08T12:56:01.976Z</published>
    <updated>2019-07-11T10:15:59.106Z</updated>
    
    <content type="html"><![CDATA[<p><del>è‡ªä»ä¸Šæ¬¡é‚€è¯·èµ›ä¹‹åè¯´è¦å­¦ä¹ è«é˜Ÿç®—æ³•ï¼Œä¸€ç›´æ‹–åˆ°ç°åœ¨ï¼ŒğŸ’Š</del>æ€»çš„æ¥è¯´ï¼Œè«é˜Ÿç®—æ³•æ˜¯ä¸€ç§ç¦»çº¿åˆ†å—çš„ç®—æ³•ï¼Œå°†æ€»åŒºé—´åˆ†æˆè‹¥å¹²ä¸ªå—($\sqrt{n}$)ï¼Œç„¶åå¯¹æ¯ä¸€å—æ›´æ–°æŸ¥è¯¢$ans$çš„å€¼ã€‚æ—¶é—´å¤æ‚åº¦$O\ (n\sqrt{n})$</p><a id="more"></a><p>è¿™é‡Œå¼ºçƒˆå®‰åˆ©ä¸€ç¯‡<a href="http://www.myblog.link/2016/01/26/MO-s-Algorithm/" target="_blank" rel="noopener">blog</a></p><h2 id="SPOJ-D-query"><a href="#SPOJ-D-query" class="headerlink" title="SPOJ D-query"></a><a href="https://www.spoj.com/problems/DQUERY/" target="_blank" rel="noopener">SPOJ D-query</a></h2><p>é¢˜æ„ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnåºåˆ—ï¼Œå†ç»™å®šmæ¬¡æŸ¥è¯¢ï¼Œæ¯æ¬¡æŸ¥è¯¢åŒºé—´å†…å‡ºç°å…ƒç´ çš„ç§ç±»æ•°</p><p>æ€è·¯ï¼š<del>å¬è¯´å¯ä»¥ä¸»å¸­æ ‘æˆ–è€…ç¦»çº¿æ ‘çŠ¶æ•°ç»„åšï¼Œ</del>è«é˜Ÿç®—æ³•çš„å…¥é—¨é¢˜ï¼Œè€—æ—¶270msã€‚å°†æ‰€æœ‰æŸ¥è¯¢åˆ†æˆ$\sqrt{n}$ä¸ªå—ï¼Œå†æŒ‰ç…§å—æ’åºï¼Œç„¶åå¯¹äºæ¯ä¸ªå—å¯ä»¥åˆ©ç”¨ä¹‹å‰ç®—è¿‡çš„ç­”æ¡ˆ(å³æ•°é‡)æ¥æ›´æ–°å½“å‰çš„ç­”æ¡ˆ(æ•°é‡)ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn],n,m,cnt[maxn],ans=<span class="number">0</span>,anss[maxn],block;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> L,R,i;</span><br><span class="line">&#125;q[maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node x,node y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x.L/block != y.L/block) <span class="keyword">return</span> x.L/block &lt; y.L/block;</span><br><span class="line">    <span class="keyword">return</span> x.R &lt; y.R;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> p)</span></span>&#123;</span><br><span class="line">    cnt[a[p]]++;</span><br><span class="line">    <span class="keyword">if</span>(cnt[a[p]] == <span class="number">1</span>) ans++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(<span class="keyword">int</span> p)</span></span>&#123;</span><br><span class="line">    cnt[a[p]]--;</span><br><span class="line">    <span class="keyword">if</span>(cnt[a[p]] == <span class="number">0</span>) ans--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    block=<span class="built_in">sqrt</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;q[i].L,&amp;q[i].R);</span><br><span class="line">        q[i].i=i;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(q+<span class="number">1</span>,q+m+<span class="number">1</span>,cmp);</span><br><span class="line">    <span class="keyword">int</span> cL=<span class="number">1</span>,cR=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> L=q[i].L,R=q[i].R;</span><br><span class="line">        <span class="keyword">while</span>(cL &lt; L) del(cL++);</span><br><span class="line">        <span class="keyword">while</span>(cL &gt; L) add(--cL);</span><br><span class="line">        <span class="keyword">while</span>(cR &lt; R) add(++cR);</span><br><span class="line">        <span class="keyword">while</span>(cR &gt; R) del(cR--);</span><br><span class="line">        anss[q[i].i]=ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++) <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,anss[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="codeforces-Powerful-array"><a href="#codeforces-Powerful-array" class="headerlink" title="codeforces-Powerful array"></a><a href="https://codeforces.com/contest/86/problem/D" target="_blank" rel="noopener">codeforces-Powerful array</a></h2><p>é¢˜æ„ï¼šç»™å®šnä¸ªå…ƒç´ åºåˆ—ï¼Œmæ¬¡è¯¢é—®ï¼Œè¦ç»Ÿè®¡åŒºé—´å†…[l,r]å…ƒç´ ä¸ªæ•°ä¹˜ä»¥å…ƒç´ çš„å€¼çš„å’Œ$\sum_{l}^{r}cnt_i^2*i$</p><p>æ€è·¯ï¼šè«é˜Ÿç®—æ³•ï¼Œåªéœ€è¦ä¿®æ”¹delå‡½æ•°å’Œaddå‡½æ•°å°±è¡Œï¼Œåœ¨æ¯æ¬¡æ›´æ–°cntå‰é¢ï¼ŒåŠ ä¸Š<code>ans-=(1LL*a[p]*cnt[a[p]]*cnt[a[p]]);</code>ï¼Œæ›´æ–°ä¹‹åå†åŠ ä¸Š<code>ans+=(1LL*a[p]*cnt[a[p]]*cnt[a[p]]);</code>ï¼Œæ³¨æ„ä¸èƒ½æŠŠå…¨éƒ¨å˜é‡å˜æˆlong longï¼Œä¼šè¶…æ—¶çš„ğŸ˜‘ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn],n,m,cnt[maxn],block;</span><br><span class="line">ll ans=<span class="number">0</span>,anss[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> L,R,i;</span><br><span class="line">&#125;q[maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node x,node y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x.L/block != y.L/block) <span class="keyword">return</span> x.L/block &lt; y.L/block;</span><br><span class="line">    <span class="keyword">return</span> x.R &lt; y.R;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(ll p)</span></span>&#123;</span><br><span class="line">    ans-=(<span class="number">1L</span>L*a[p]*cnt[a[p]]*cnt[a[p]]);</span><br><span class="line">    cnt[a[p]]++;</span><br><span class="line">    ans+=(<span class="number">1L</span>L*a[p]*cnt[a[p]]*cnt[a[p]]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(ll p)</span></span>&#123;</span><br><span class="line">    ans-=(<span class="number">1L</span>L*a[p]*cnt[a[p]]*cnt[a[p]]);</span><br><span class="line">    cnt[a[p]]--;</span><br><span class="line">    ans+=(<span class="number">1L</span>L*a[p]*cnt[a[p]]*cnt[a[p]]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m);</span><br><span class="line">    block=<span class="built_in">sqrt</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;q[i].L,&amp;q[i].R);</span><br><span class="line">        q[i].i=i;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(q+<span class="number">1</span>,q+m+<span class="number">1</span>,cmp);</span><br><span class="line">    <span class="keyword">int</span> cL=<span class="number">1</span>,cR=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> L=q[i].L,R=q[i].R;</span><br><span class="line">        <span class="keyword">while</span>(cL &lt; L) del(cL++);</span><br><span class="line">        <span class="keyword">while</span>(cL &gt; L) add(--cL);</span><br><span class="line">        <span class="keyword">while</span>(cR &lt; R) add(++cR);</span><br><span class="line">        <span class="keyword">while</span>(cR &gt; R) del(cR--);</span><br><span class="line">        anss[q[i].i]=ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>; i&lt;=m; i++) <span class="built_in">printf</span>(<span class="string">"%I64d\n"</span>,anss[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="HDU-6534-Chika-and-Friendly-Pairs"><a href="#HDU-6534-Chika-and-Friendly-Pairs" class="headerlink" title="HDU-6534.Chika and Friendly Pairs"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6534" target="_blank" rel="noopener">HDU-6534.Chika and Friendly Pairs</a></h2><p><del>æ¹˜æ½­é‚€è¯·èµ›Cé¢˜ï¼Œå½“æ—¶å¡çš„é¢˜ï¼Œç°åœ¨è¡¥æ‰</del></p><p>é¢˜æ„ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸º$n$çš„åºåˆ—ï¼Œ$m$æ¬¡è¯¢é—®ï¼Œä¸€ä¸ªæ•°$k$ã€‚è¯¢é—®ä½ åœ¨åŒºé—´$[l\ ,\ r]$ä¸­ï¼Œç¬¦åˆ$|a_i-a_j|\leq k$å¹¶ä¸”$i &lt; j$æœ‰å¤šå°‘å¯¹è¿™æ ·çš„æ•°ã€‚</p><p>æ€è·¯ï¼š<strong>è«é˜Ÿ+æ ‘çŠ¶æ•°ç»„+ç¦»æ•£åŒ–</strong>ï¼Œé¦–å…ˆå¯¹äºæ¯æ¬¡æŸ¥è¯¢$a_i$ï¼Œæˆ‘åªè¦æŸ¥è¯¢åŒºé—´å†…$[a_i-k\ ,\ a_i+k]$çš„ç§æ•°å³å¯ï¼Œåˆ©ç”¨æ ‘çŠ¶æ•°ç»„å°±è¡Œï¼Œç„¶åç”±äºåºåˆ—ä¸­çš„æ•°æœ€å¤§æœ‰$10^9$ï¼Œè€Œæ•°çš„ä¸ªæ•°åªæœ‰$27000$ï¼Œå°±å¯ä»¥é€šè¿‡ç¦»æ•£åŒ–å°†å…¶ç¼©å°ï¼Œå†ç”¨è«é˜Ÿç®—æ³•ã€‚</p><p>å¯¹äºæ–°åŠ è¿›æ¥çš„æ•°$a_i$ï¼Œ<code>ans+=(query(up[l])-query(lowa[l]))</code>ï¼Œç„¶åå†<code>add(mida[l],1)</code>ï¼Œä»”ç»†æƒ³æƒ³å°±ä¼šå‘ç°ï¼Œå¦‚æœä½ å…ˆå†™addå‡½æ•°ï¼Œå°±ä¼šæŠŠæœ¬èº«çš„å€¼ä¹Ÿç®—è¿›å»ã€‚</p><p>å¯¹äºå»æ‰çš„æ•°$a_i$ï¼Œåˆ™éœ€è¦å…ˆ<code>add(mida[l],-1)</code>ï¼Œç„¶åå†æ›´æ–°ansï¼Œ<code>ans-=(query(up[l])-query(lowa[l]))</code>ï¼Œå› ä¸ºqueryæŸ¥è¯¢çš„æ—¶å€™ä¼šæŠŠmida[l]ä¹Ÿè®¡ç®—è¿›æ¥ã€‚</p><p>ç¦»æ•£åŒ–çš„æ¨¡ç‰ˆ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//n åŸæ•°ç»„å¤§å° num åŸæ•°ç»„ä¸­çš„å…ƒç´  lsh ç¦»æ•£åŒ–çš„æ•°ç»„ cnt ç¦»æ•£åŒ–åçš„æ•°ç»„å¤§å° </span></span><br><span class="line"><span class="keyword">int</span> lsh[MAXN],cnt,num[MAXN],n;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;num[i]);</span><br><span class="line">lsh[i]=num[i];</span><br><span class="line">&#125;</span><br><span class="line">sort(lsh+<span class="number">1</span>,lsh+n+<span class="number">1</span>);</span><br><span class="line">cnt = unique(lsh+<span class="number">1</span>,lsh+n+<span class="number">1</span>)-(lsh+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">num[i]=lower_bound(lsh+<span class="number">1</span>,lsh+cnt+<span class="number">1</span>,num[i])-lsh;</span><br></pre></td></tr></table></figure><p>è¯¥é¢˜acçš„ä»£ç ï¼ˆ390MSï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">27010</span>;</span><br><span class="line"><span class="keyword">int</span> mp[maxn*<span class="number">3</span>],a[maxn],upa[maxn],lowa[maxn],mida[maxn];</span><br><span class="line"><span class="keyword">int</span> tree[maxn*<span class="number">3</span>],ans=<span class="number">0</span>,anss[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l,r;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">&#125;q[maxn];</span><br><span class="line"><span class="keyword">int</span> n,m,block,k;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node i,node j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i.l/block != j.l/block) <span class="keyword">return</span> i.l/block &lt; j.l/block;</span><br><span class="line">    <span class="keyword">return</span> i.r &lt; j.r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&amp;(-x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=x; i&lt;maxn*<span class="number">3</span>; i+=lowbit(i)) tree[i]+=val;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=x; i; i-=lowbit(i)) ans+=tree[i];</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;n,&amp;m,&amp;k);</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">1</span>;</span><br><span class="line">    block=<span class="built_in">sqrt</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">        mp[sum++]=a[i];</span><br><span class="line">        mp[sum++]=a[i]+k;</span><br><span class="line">        mp[sum++]=a[i]-k<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(mp+<span class="number">1</span>,mp+sum);</span><br><span class="line">    <span class="keyword">int</span> num=unique(mp+<span class="number">1</span>,mp+sum)-(mp+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> pos;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        pos=lower_bound(mp+<span class="number">1</span>,mp+num+<span class="number">1</span>,a[i]+k)-mp;</span><br><span class="line">        upa[i]=pos;</span><br><span class="line">        pos=lower_bound(mp+<span class="number">1</span>,mp+num+<span class="number">1</span>,a[i]-k<span class="number">-1</span>)-mp;</span><br><span class="line">        lowa[i]=pos;</span><br><span class="line">        pos=lower_bound(mp+<span class="number">1</span>,mp+num+<span class="number">1</span>,a[i])-mp;</span><br><span class="line">        mida[i]=pos;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;q[i].l,&amp;q[i].r);</span><br><span class="line">        q[i].i=i;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(q+<span class="number">1</span>,q+m+<span class="number">1</span>,cmp);</span><br><span class="line">    <span class="keyword">int</span> cL=<span class="number">1</span>,cR=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> L=q[i].l;</span><br><span class="line">        <span class="keyword">int</span> R=q[i].r;</span><br><span class="line">        <span class="keyword">while</span>(cR&lt;R)&#123;</span><br><span class="line">            cR++;</span><br><span class="line">            ans+=(query(upa[cR])-query(lowa[cR]));</span><br><span class="line">            add(mida[cR],<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(cR&gt;R)&#123;</span><br><span class="line">            add(mida[cR],<span class="number">-1</span>);</span><br><span class="line">            ans-=(query(upa[cR])-query(lowa[cR]));</span><br><span class="line">            cR--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(cL&lt;L)&#123;</span><br><span class="line">            add(mida[cL],<span class="number">-1</span>);</span><br><span class="line">            ans-=(query(upa[cL])-query(lowa[cL]));</span><br><span class="line">            cL++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(cL&gt;L)&#123;</span><br><span class="line">            cL--;</span><br><span class="line">            ans+=(query(upa[cL])-query(lowa[cL]));</span><br><span class="line">            add(mida[cL],<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        anss[q[i].i]=ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++) <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,anss[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;del&gt;è‡ªä»ä¸Šæ¬¡é‚€è¯·èµ›ä¹‹åè¯´è¦å­¦ä¹ è«é˜Ÿç®—æ³•ï¼Œä¸€ç›´æ‹–åˆ°ç°åœ¨ï¼ŒğŸ’Š&lt;/del&gt;æ€»çš„æ¥è¯´ï¼Œè«é˜Ÿç®—æ³•æ˜¯ä¸€ç§ç¦»çº¿åˆ†å—çš„ç®—æ³•ï¼Œå°†æ€»åŒºé—´åˆ†æˆè‹¥å¹²ä¸ªå—($\sqrt{n}$)ï¼Œç„¶åå¯¹æ¯ä¸€å—æ›´æ–°æŸ¥è¯¢$ans$çš„å€¼ã€‚æ—¶é—´å¤æ‚åº¦$O\ (n\sqrt{n})$&lt;/p&gt;
    
    </summary>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
  </entry>
  
  <entry>
    <title>ç‰›å®¢ç»ƒä¹ èµ›49</title>
    <link href="http://yoursite.com/2019/07/06/newcoder190705/"/>
    <id>http://yoursite.com/2019/07/06/newcoder190705/</id>
    <published>2019-07-06T11:15:20.753Z</published>
    <updated>2019-07-13T02:00:31.543Z</updated>
    
    <content type="html"><![CDATA[<p><del>è¯´å¥½çš„äººå‡3.5é“é¢˜å‘¢ï¼Ÿéª—æˆ‘ä»¬æ‰“ä»£ç </del></p><a id="more"></a><h4 id="Aç­±ç›çˆ±åœ°ç†"><a href="#Aç­±ç›çˆ±åœ°ç†" class="headerlink" title="Aç­±ç›çˆ±åœ°ç†"></a><a href="https://ac.nowcoder.com/acm/contest/946/A" target="_blank" rel="noopener">Aç­±ç›çˆ±åœ°ç†</a></h4><p>  åœ¨ç»æµåœ°ç†å­¦ä¸­ï¼Œäº¤é€šçš„è”ç»“åº¦è¡¨ç¤ºäº¤é€šç½‘ç»œçš„å‘è¾¾ç¨‹åº¦ï¼Œé€šå¸¸ç”¨è´å¡”æŒ‡æ•°æ¥è®¡ç®—ä¸æ¯”è¾ƒã€‚è‹¥ç”¨$V$è¡¨ç¤ºä¸€ä¸ªäº¤é€šç½‘ç»œä¸­ç»“ç‚¹çš„æ•°é‡ï¼Œç”¨$E$è¡¨ç¤ºè¾¹çš„æ•°é‡ï¼Œåˆ™è´å¡”æŒ‡æ•°çš„è®¡ç®—æ–¹å¼ä¸ºï¼š$ \beta = \frac{E}{V}$ã€‚ </p><p>â€œå®è·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†â€ã€‚ä½œä¸ºä¸€ä¸ªçƒ­çˆ±åœ°ç†çš„å¥½ç­±ç›ï¼Œå¥¹é©¬ä¸Šå°±æŠŠæ–°å­¦çš„çŸ¥è¯†åº”ç”¨åˆ°å®è·µå½“ä¸­å»ã€‚ç­±ç›ä¸€å£æ°”å‡ºäº†$n$å¼ äº¤é€šç½‘ç»œè§„åˆ’å›¾ï¼Œå…¶ä¸­ç¬¬$i$å¼ äº¤é€šç½‘ç»œ$G_i$æœ‰$V_i$ä¸ªç»“ç‚¹å’Œ$E_i$æ¡è¾¹ã€‚ç­±ç›ä¸€çœ¼å°±çœ‹å‡ºäº†å“ªå¼ å›¾å¥½ã€å“ªå¼ å›¾åã€‚ä½†æ˜¯ä½œä¸ºä¸€ä¸ªè´Ÿè´£ä»»çš„å¥½ç­±ç›ï¼Œå¥¹å¿…é¡»å¸¦é¢†åŒå­¦ä»¬ä¸€èµ·è¿›æ­¥ã€‚å› æ­¤ï¼Œå¥¹éœ€è¦ä½ å°†æ‰€æœ‰çš„$n$å¼ å›¾æŒ‰ç…§è´å¡”æŒ‡æ•°æ’åºï¼Œå¹¶æ±‚å‡ºå®ƒä»¬å„è‡ªçš„è´å¡”æŒ‡æ•°åœ¨æ¨¡$10^9+7$æ„ä¹‰ä¸‹çš„å€¼</p><p>ç›´æ¥è®¡ç®—$\beta$(æµ®ç‚¹æ•°)ï¼Œç„¶åæ’åºï¼Œå†æ±‚é€†å…ƒè¾“å‡ºå–æ¨¡ä¹‹åçš„ç»“æœå°±å¥½äº†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line">ll t;</span><br><span class="line">ll x,y;</span><br><span class="line"><span class="keyword">const</span> ll mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="function">ll <span class="title">qpow</span><span class="params">(ll x,ll n,ll mod)</span></span>&#123;</span><br><span class="line">    ll res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(n)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n&amp;<span class="number">1</span>) res=res*x%mod;</span><br><span class="line">        x=x*x%mod;</span><br><span class="line">        n&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    ll v,e;</span><br><span class="line">    <span class="keyword">double</span> x;</span><br><span class="line">    ll y;</span><br><span class="line">&#125;a[<span class="number">200010</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node i,node j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> i.x&gt;j.x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;t; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld %lld"</span>,&amp;a[i].v,&amp;a[i].e);</span><br><span class="line">        <span class="comment">//printf("%lld\n",y*qpow(x,mod-2,mod)%mod);</span></span><br><span class="line">        a[i].y=a[i].e*qpow(a[i].v,mod<span class="number">-2</span>,mod)%mod;</span><br><span class="line">        <span class="comment">//a[i++]=y*qpow(x,mod-2,mod)%mod;</span></span><br><span class="line">        a[i].x=a[i].e*<span class="number">1.0</span>/a[i].v*<span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a,a+t,cmp);</span><br><span class="line">    <span class="keyword">for</span>(ll j=<span class="number">0</span>; j&lt;t; j++) <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,a[j].y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Dç­±ç›çˆ±çº¿æ®µæ ‘"><a href="#Dç­±ç›çˆ±çº¿æ®µæ ‘" class="headerlink" title="Dç­±ç›çˆ±çº¿æ®µæ ‘"></a><a href="https://ac.nowcoder.com/acm/contest/946/D" target="_blank" rel="noopener">Dç­±ç›çˆ±çº¿æ®µæ ‘</a></h4><p>ç­±ç›çš„çˆ·çˆ·é©¬çˆ·åœ¨æ¸¸æˆä¸­è¢«ç­±ç›åŠæ‰“äº†ï¼Œäºæ˜¯ä»–æ¼ç¾æˆæ€’ï¼Œå†³å®šç»™ç­±ç›å‡ºè¿™æ ·ä¸€é“æ•°æ®ç»“æ„é¢˜ï¼š<br>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„Aï¼Œåˆšå¼€å§‹æ¯ä¸€é¡¹çš„å€¼å‡ä¸º0ã€‚<br>æ”¯æŒä»¥ä¸‹ä¸¤ç§æ“ä½œï¼Œæ“ä½œå…±mæ¬¡ï¼š<br> 1 l r ï¼šå°†$A_i \sim A_j$çš„æ¯ä¸€é¡¹çš„å€¼åŠ ä¸Š1ã€‚<br> 2 l r ï¼šæ‰§è¡Œæ“ä½œç¼–å·åœ¨[l,r]å†…çš„æ‰€æœ‰æ“ä½œå„ä¸€æ¬¡ï¼Œä¿è¯rå°äºå½“å‰æ“ä½œçš„ç¼–å·ã€‚<br>mæ¬¡æ“ä½œç»“æŸåï¼Œä½ è¦å‘Šè¯‰é©¬çˆ·Aæ•°ç»„å˜æˆä»€ä¹ˆæ ·å­äº†ã€‚<br>ç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œä½ åªéœ€è¦è¾“å‡ºæ•°ç»„<br>Aä¸­çš„æ¯ä¸ªæ•°åœ¨æ¨¡ $10^9+7$ æ„ä¹‰ä¸‹çš„å€¼</p><p>æ–¹æ³•ä¸€ï¼šçº¿æ®µæ ‘ï¼Œç»´æŠ¤äº†ä¸¤æ£µçº¿æ®µæ ‘å³å¯</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> ll maxn=<span class="number">100010</span>;</span><br><span class="line"><span class="keyword">const</span> ll mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">seg</span>&#123;</span></span><br><span class="line">    ll l,r;</span><br><span class="line">    ll mark;</span><br><span class="line">    ll val;</span><br><span class="line">&#125;s[maxn*<span class="number">4</span>],ss[maxn*<span class="number">4</span>];</span><br><span class="line">ll a[maxn];</span><br><span class="line">ll b[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    ll op;</span><br><span class="line">    ll l,r;</span><br><span class="line">&#125;x[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(ll i)</span></span>&#123;</span><br><span class="line">    s[i].val=(s[i&lt;&lt;<span class="number">1L</span>L].val+s[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].val)%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(ll i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s[i].mark)&#123;</span><br><span class="line">        s[i&lt;&lt;<span class="number">1L</span>L].val=(s[i&lt;&lt;<span class="number">1L</span>L].val+((s[i&lt;&lt;<span class="number">1L</span>L].r-s[i&lt;&lt;<span class="number">1L</span>L].l+<span class="number">1L</span>L)*s[i].mark%mod))%mod;</span><br><span class="line">        s[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].val=(s[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].val+((s[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].r-s[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].l+<span class="number">1L</span>L)*s[i].mark%mod))%mod;</span><br><span class="line">        s[i&lt;&lt;<span class="number">1L</span>L].mark=(s[i&lt;&lt;<span class="number">1L</span>L].mark+s[i].mark)%mod;</span><br><span class="line">        s[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].mark=(s[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].mark+s[i].mark)%mod;</span><br><span class="line">        s[i].mark=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(ll i,ll l,ll r)</span></span>&#123;</span><br><span class="line">    s[i].l=l;</span><br><span class="line">    s[i].r=r;</span><br><span class="line">    s[i].mark=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(l == r)&#123;</span><br><span class="line">        s[i].val=a[l];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    ll mid=(l+r)&gt;&gt;<span class="number">1L</span>L;</span><br><span class="line">    build(i&lt;&lt;<span class="number">1L</span>L,l,mid);</span><br><span class="line">    build((i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L,mid+<span class="number">1L</span>L,r);</span><br><span class="line">    pushup(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(ll i,ll l,ll r,ll sl,ll sr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;=sl &amp;&amp; r&lt;=sr) <span class="keyword">return</span> s[i].val;</span><br><span class="line">    pushdown(i);</span><br><span class="line">    ll mid=(l+r)&gt;&gt;<span class="number">1L</span>L;</span><br><span class="line">    ll sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(mid&gt;=sl) sum=(sum+query(i&lt;&lt;<span class="number">1L</span>L,l,mid,sl,sr))%mod;</span><br><span class="line">    <span class="keyword">if</span>(mid&lt;sr) sum=(sum+query((i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L,mid+<span class="number">1L</span>L,r,sl,sr))%mod;</span><br><span class="line">    <span class="keyword">return</span> sum%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updata</span><span class="params">(ll i,ll l,ll r,ll sl,ll sr,ll val)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;=sl &amp;&amp; r&lt;=sr)&#123;</span><br><span class="line">        s[i].val=(s[i].val+(s[i].r-s[i].l+<span class="number">1L</span>L)*val%mod)%mod;</span><br><span class="line">        s[i].mark=(s[i].mark+val)%mod;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    ll mid=(l+r)&gt;&gt;<span class="number">1L</span>L;</span><br><span class="line">    pushdown(i);</span><br><span class="line">    <span class="keyword">if</span>(mid&gt;=sl) updata(i&lt;&lt;<span class="number">1L</span>L,l,mid,sl,sr,val);</span><br><span class="line">    <span class="keyword">if</span>(mid&lt;sr) updata((i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L,mid+<span class="number">1L</span>L,r,sl,sr,val);</span><br><span class="line">    pushup(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup1</span><span class="params">(ll i)</span></span>&#123;</span><br><span class="line">    ss[i].val=(ss[i&lt;&lt;<span class="number">1L</span>L].val+ss[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].val)%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown1</span><span class="params">(ll i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ss[i].mark)&#123;</span><br><span class="line">        ss[i&lt;&lt;<span class="number">1L</span>L].val=(ss[i&lt;&lt;<span class="number">1L</span>L].val+((ss[i&lt;&lt;<span class="number">1L</span>L].r-ss[i&lt;&lt;<span class="number">1L</span>L].l+<span class="number">1L</span>L)*ss[i].mark%mod))%mod;</span><br><span class="line">        ss[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].val=(ss[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].val+((ss[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].r-ss[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].l+<span class="number">1L</span>L)*ss[i].mark%mod))%mod;</span><br><span class="line">        ss[i&lt;&lt;<span class="number">1L</span>L].mark=(ss[i&lt;&lt;<span class="number">1L</span>L].mark+ss[i].mark)%mod;</span><br><span class="line">        ss[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].mark=(ss[(i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L].mark+ss[i].mark)%mod;</span><br><span class="line">        ss[i].mark=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build1</span><span class="params">(ll i,ll l,ll r)</span></span>&#123;</span><br><span class="line">    ss[i].l=l;</span><br><span class="line">    ss[i].r=r;</span><br><span class="line">    ss[i].mark=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(l == r)&#123;</span><br><span class="line">        ss[i].val=b[l];</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    ll mid=(l+r)&gt;&gt;<span class="number">1L</span>L;</span><br><span class="line">    build1(i&lt;&lt;<span class="number">1L</span>L,l,mid);</span><br><span class="line">    build1((i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L,mid+<span class="number">1L</span>L,r);</span><br><span class="line">    pushup1(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">query1</span><span class="params">(ll i,ll l,ll r,ll ssl,ll ssr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;=ssl &amp;&amp; r&lt;=ssr) <span class="keyword">return</span> ss[i].val;</span><br><span class="line">    pushdown1(i);</span><br><span class="line">    ll mid=(l+r)&gt;&gt;<span class="number">1L</span>L;</span><br><span class="line">    ll ssum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(mid&gt;=ssl) ssum=(ssum+query1(i&lt;&lt;<span class="number">1L</span>L,l,mid,ssl,ssr))%mod;</span><br><span class="line">    <span class="keyword">if</span>(mid&lt;ssr) ssum=(ssum+query1((i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L,mid+<span class="number">1L</span>L,r,ssl,ssr))%mod;</span><br><span class="line">    <span class="keyword">return</span> ssum%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updata1</span><span class="params">(ll i,ll l,ll r,ll ssl,ll ssr,ll val)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;=ssl &amp;&amp; r&lt;=ssr)&#123;</span><br><span class="line">        ss[i].val=(ss[i].val+(ss[i].r-ss[i].l+<span class="number">1L</span>L)*val%mod)%mod;</span><br><span class="line">        ss[i].mark=(ss[i].mark+val)%mod;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    ll mid=(l+r)&gt;&gt;<span class="number">1L</span>L;</span><br><span class="line">    pushdown1(i);</span><br><span class="line">    <span class="keyword">if</span>(mid&gt;=ssl) updata1(i&lt;&lt;<span class="number">1L</span>L,l,mid,ssl,ssr,val);</span><br><span class="line">    <span class="keyword">if</span>(mid&lt;ssr) updata1((i&lt;&lt;<span class="number">1L</span>L)|<span class="number">1L</span>L,mid+<span class="number">1L</span>L,r,ssl,ssr,val);</span><br><span class="line">    pushup1(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll n,m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;n);</span><br><span class="line">    <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span> a);</span><br><span class="line">    build(<span class="number">1</span>,<span class="number">1</span>,n);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;m);</span><br><span class="line">    <span class="comment">//m=100000;</span></span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>; i&lt;=m; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld"</span>,&amp;x[i].op,&amp;x[i].l,&amp;x[i].r);</span><br><span class="line">        <span class="comment">//if(i == 1) x[i].op=1,x[i].l=1,x[i].r=n;</span></span><br><span class="line">        <span class="comment">//else x[i].op=2,x[i].l=1,x[i].r=i-1;</span></span><br><span class="line">        b[i]=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//for(ll i=1; i&lt;=m; i++) b[i]=1;</span></span><br><span class="line">    build1(<span class="number">1</span>,<span class="number">1</span>,m);</span><br><span class="line">    <span class="comment">//cout&lt;&lt;query1(1,1,m,1,1)&lt;&lt;endl;;</span></span><br><span class="line">    <span class="keyword">for</span>(ll i=m; i&gt;<span class="number">0</span>; i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(x[i].op == <span class="number">1</span>)&#123;</span><br><span class="line">            updata(<span class="number">1</span>,<span class="number">1</span>,n,x[i].l,x[i].r,query1(<span class="number">1</span>,<span class="number">1</span>,m,i,i));</span><br><span class="line">            <span class="comment">//printf("%d\n",query1(1,1,m,i,i));</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            updata1(<span class="number">1</span>,<span class="number">1</span>,m,x[i].l,x[i].r,query1(<span class="number">1</span>,<span class="number">1</span>,m,i,i));</span><br><span class="line">            <span class="comment">//printf("%lld\n",query1(1,1,m,i,i));</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld%c"</span>,query(<span class="number">1</span>,<span class="number">1</span>,n,i,i),i&lt;n?<span class="string">' '</span>:<span class="string">'\n'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼šå·®åˆ†(ç•™å‘å¾…è¡¥â€¦â€¦)</p><h4 id="Eç­±ç›çˆ±æ¸¸æˆ"><a href="#Eç­±ç›çˆ±æ¸¸æˆ" class="headerlink" title="Eç­±ç›çˆ±æ¸¸æˆ"></a><a href="https://ac.nowcoder.com/acm/contest/946/E" target="_blank" rel="noopener">Eç­±ç›çˆ±æ¸¸æˆ</a></h4><p>  ä¸¤ä¸ªäººè½®æµä»æ¡Œé¢ä¸Šå–èµ°ä¸€ä¸ªæ•°ï¼Œå¹¶æŠŠè¿™ä¸ªæ•°æ”¾å…¥é›†åˆä¸­ã€‚ </p><p>  å¦‚æœåœ¨æŸæ¬¡æ“ä½œç»“æŸåï¼Œé›†åˆä¸­å­˜åœ¨ä¸€ä¸ªå¼‚æˆ–å’Œä¸º0çš„<strong>éç©º</strong>å­é›†ï¼Œé‚£ä¹ˆè¿›è¡Œè¿™æ¬¡æ“ä½œçš„äººè¾“ã€‚ </p><p>  å¦‚æœå…¨éƒ¨å–å®Œï¼Œåˆ™æœ€åæ“ä½œçš„äººèµ¢ã€‚ </p><p>  ç­±ç›å’Œé©¬çˆ·éƒ½èªæ˜ç»é¡¶ï¼Œä»–ä»¬éƒ½ä¼šæŒ‰ç…§æœ€ä¼˜ç­–ç•¥è¿›è¡Œæ¸¸æˆã€‚ </p><p>  é©¬çˆ·ä½œä¸ºç­±ç›çš„çˆ·çˆ·ï¼Œå†³å®šè®©ç­±ç›é€‰æ‹©å…ˆæ‰‹è¿˜æ˜¯åæ‰‹ã€‚ </p><p>  ç­±ç›ä¸ºäº†ç¨³æ“èƒœåˆ¸ï¼Œæƒ³æå‰çŸ¥é“å¯¹äºå½“å‰çš„æ¸¸æˆï¼Œæ˜¯å…ˆæ‰‹å¿…èƒœè¿˜æ˜¯åæ‰‹å¿…èƒœã€‚ </p><p>  ç­±ç›æƒ³è€ƒè€ƒä½ ï¼Œè®©ä½ å¸®ä»–è§£å†³è¿™ä¸ªé—®é¢˜</p><p>   æ€è·¯ï¼šæ¯ä¸€ä¸ªæ•°éƒ½æ˜¯ä¸€ä¸ªå‘é‡ï¼Œä»¥äºŒè¿›åˆ¶å½¢å¼çš„å‘é‡ï¼Œæ­¤æ—¶æ•°çš„å¼‚æˆ–å°±æ˜¯å‘é‡çš„åŠ æ³•(ä¸å¸¦è¿›ä½)ï¼Œå°±æ˜¯æ±‚æ‰€æœ‰å‘é‡ä¸ç›¸å…³çš„é›†åˆï¼Œå…¶å®å°±æ˜¯çŸ©é˜µçš„ç§©ã€‚ç„¶åå°±è¦æ±‚æ‰€æœ‰çš„å‘é‡ç»„çŸ©é˜µçš„ç§©ï¼Œå¦‚æœç§©ä¸ºå¶æ•°ï¼Œåæ‰‹èµ¢ï¼Œå¦åˆ™å…ˆæ‰‹èµ¢ã€‚å¯ä»¥é€šè¿‡é«˜æ–¯æ¶ˆå…ƒæˆ–è€…çº¿æ€§åŸºï¼Œè¿™é‡Œæ˜¯çº¿æ€§åŸºçš„æ–¹æ³•</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line">ll n,m,a[<span class="number">100</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ran</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">60</span>; ~i; i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(x&gt;&gt;i &amp; <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!a[i])&#123;</span><br><span class="line">                a[i]=x;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> x^=a[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;n);</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;m);</span><br><span class="line">        ans+=ran(m);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ans&amp;<span class="number">1</span>) <span class="built_in">puts</span>(<span class="string">"First"</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"Second"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;del&gt;è¯´å¥½çš„äººå‡3.5é“é¢˜å‘¢ï¼Ÿéª—æˆ‘ä»¬æ‰“ä»£ç &lt;/del&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="ç‰›å®¢" scheme="http://yoursite.com/categories/%E7%89%9B%E5%AE%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>Codeforces Round#572(Div 2)</title>
    <link href="http://yoursite.com/2019/07/06/cf190705/"/>
    <id>http://yoursite.com/2019/07/06/cf190705/</id>
    <published>2019-07-06T09:39:24.253Z</published>
    <updated>2019-07-13T02:00:43.549Z</updated>
    
    <content type="html"><![CDATA[<p><del>è¿™åœºæ¯”è¾ƒç®€å•</del>ï¼Œæ·±å¤œè‚é¢˜ï¼Œç²¾ç¥æŠ–æ“.jpgï¼Œä¸è¿‡æ¶¨åˆ†å°±å¾ˆèˆ’æœ</p><a id="more"></a><h2 id="A-Keanu-Reeves"><a href="#A-Keanu-Reeves" class="headerlink" title="A. Keanu Reeves"></a><a href="https://codeforces.com/contest/1189/problem/A" target="_blank" rel="noopener">A. Keanu Reeves</a></h2><p>é¢˜æ„: æ˜¯ç»™å®šä¸€ä¸ªåªå«0å’Œ1çš„ä¸²ï¼Œé—®èƒ½å¦èƒ½åˆ†æˆæœ€å°‘çš„å­ä¸²ï¼Œå¹¶ä¸”è¿™äº›å­ä¸²çš„0å’Œ1æ•°é‡ä¸ç›¸ç­‰</p><p>è§£æ: å¦‚æœè¯¥ä¸²æœ¬èº«01æ•°é‡ä¸ç­‰ï¼Œç›´æ¥è¾“å‡ºï¼Œå¦åˆ™å°±åˆ†æˆä¸¤éƒ¨åˆ†å°±å¥½ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦å•ç‹¬ä¸€éƒ¨åˆ†ï¼Œå‰©ä¸‹çš„ä¸ºå¦ä¸€éƒ¨åˆ†(æˆ‘çš„ä»£ç æ˜¯æœ€åä¸€ä¸ªå­—ç¬¦å•ç‹¬ä¸€éƒ¨åˆ†)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">200</span>];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s);</span><br><span class="line">    <span class="keyword">int</span> cnt0=<span class="number">0</span>,cnt1=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i] == <span class="string">'0'</span>) cnt0++;</span><br><span class="line">        <span class="keyword">else</span> cnt1++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt0 != cnt1)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"1\n%s\n"</span>,s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"2"</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n<span class="number">-1</span>; i++)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,s[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">" %c\n"</span>,s[n<span class="number">-1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-Number-Circle"><a href="#B-Number-Circle" class="headerlink" title="B. Number Circle"></a><a href="https://codeforces.com/contest/1189/problem/B" target="_blank" rel="noopener">B. Number Circle</a></h2><p>é¢˜æ„: ç»™å®šä¸€ä¸ªåºåˆ—ï¼Œé—®ä½ èƒ½å¦ç»„æˆä¸€ä¸ªé¦–å°¾ç›¸æ¥å¾ªç¯çš„åºåˆ—ï¼Œä½¿å¾—æ¯ä¸ªæ•°éƒ½æ¯”ç›¸é‚»çš„ä¸¤ä¸ªæ•°çš„å’Œå°</p><p>è§£æ: å¯¹æ•°ç»„aé¦–å…ˆæ’åºï¼Œç›´æ¥ä»æœ€åä¸€ä¸ªå…ƒç´ a[n]å¼€å§‹æ‰¾ï¼Œæ‰¾ä»å‰é¢æ‰¾a[i]ï¼Œä½¿å¾—a[n-1]+a[i] &gt; a[n]ï¼Œå¦‚æœæ‰¾åˆ°a[i]ï¼Œé‚£ä¹ˆåºåˆ—å°±æ˜¯a[n-1] a[n] a[i] a[1] â€¦ a[n-2] (å‡è®¾iä¸æ˜¯1æˆ–è€…n-2)ï¼Œå…·ä½“çœ‹ä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a,a+n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n<span class="number">-2</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]+a[n<span class="number">-2</span>] &gt; a[n<span class="number">-1</span>])&#123;</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">"YES"</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d %d %d"</span>,a[n<span class="number">-2</span>],a[n<span class="number">-1</span>],a[i]);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n<span class="number">-2</span>; j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(j!=i) <span class="built_in">printf</span>(<span class="string">" %d"</span>,a[j]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">""</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">"NO"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Candies"><a href="#C-Candies" class="headerlink" title="C. Candies!"></a><a href="https://codeforces.com/contest/1189/problem/C" target="_blank" rel="noopener">C. Candies!</a></h2><p> é¢˜æ„: æœ‰è¿™ä¹ˆä¸€ä¸ªæ“ä½œï¼Œå¯¹äºa[i], a[i+1],â€¦,a[j],å…¶ä¸­ï¼Œj-i+1æ˜¯2çš„å¹‚æ¬¡æ–¹ï¼Œç„¶åå¯¹äºæ¯ä¸¤ä¸ªæ•°ï¼Œç›¸åŠ å¾—åˆ°ä¸€ä¸ªæ–°æ•°ï¼Œç„¶åä¸ªæ•°å°±å˜æˆäº†åŸæ¥çš„ä¸€åŠï¼Œæ¯”å¦‚è¯´{1,2,3,4}ï¼Œç»è¿‡ä¸€æ¬¡å˜æ¢ä¹‹åå°±å˜æˆäº†{3ï¼Œ7},ä¸€ç›´æ“ä½œç›´åˆ°ä¸ªæ•°ä¸º1; ç„¶åå¯¹äºæ¯æ¬¡æ“ä½œï¼Œå¦‚æœç›¸åŠ å¾—åˆ°çš„æ–°æ•°å¤§äº10ï¼Œæˆ‘å°±èƒ½å¾—åˆ°ä¸€é¢—ç³–ï¼Œå¹¶ä¸”å°†æ–°æ•°å¯¹10å–æ¨¡; ç„¶åæˆ‘æœ‰kæ¬¡è¯¢é—®ï¼Œå¯¹äºåŒºé—´å†…çš„æ•°ï¼Œç»è¿‡è‹¥å¹²æ¬¡æ“ä½œä¹‹åï¼Œæˆ‘èƒ½æ‹¿å¤šå°‘ç³–ã€‚</p><p> è§£æ: é¢˜ç›®ç»™çš„é™åˆ¶ï¼Œæ¯ä¸ªæ•°å°äº10ï¼Œæˆ‘åªè¦ç»Ÿè®¡åŒºé—´å†…çš„æ€»æ•°ï¼Œç„¶åé™¤ä»¥10å–æ•´å°±æ˜¯ç­”æ¡ˆï¼Œè¯æ˜ç•¥ã€‚<del>(ç›²çŒœç»“è®ºç›´æ¥è½ä¸€å‘)</del></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">        dp[i]=dp[i<span class="number">-1</span>]+a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m,l,r;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;l,&amp;r);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,(dp[r]-dp[l<span class="number">-1</span>])/<span class="number">10</span>);;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D1-Add-on-a-Tree"><a href="#D1-Add-on-a-Tree" class="headerlink" title="D1. Add on a Tree"></a><a href="https://codeforces.com/contest/1189/problem/D1" target="_blank" rel="noopener">D1. Add on a Tree</a></h2><p>é¢˜æ„: æœ‰ä¸€æ£µæ ‘ï¼Œç„¶åæœ‰ä¸€ç§æ“ä½œï¼Œä»»æ„é€‰æ‹©ä¸¤ä¸ªå¶å­èŠ‚ç‚¹ï¼Œç„¶åå¾—åˆ°ä¸€æ¡è·¯å¾„ï¼Œæˆ‘èƒ½åœ¨è¿™æ¡è·¯å¾„ä¸ŠåŠ ä¸ŠæŸä¸ªå®æ•°(åˆå§‹åŒ–æ¯æ¡è¾¹éƒ½æ˜¯0)ï¼Œè¿™æ ·æ¯æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªæ•°ï¼Œé—®å¯¹äºä»»æ„ä¸€ç»„è¾¹ä¸Šçš„æ•°ï¼Œæˆ‘èƒ½å¦é€šè¿‡æœ‰é™æ¬¡æ“ä½œå®ç°</p><p>è§£æ: é€è¿‡é¢˜ç›®çœ‹æœ¬è´¨ï¼Œå…¶å®å°±æ˜¯ä¸€é“æ°´é¢˜ï¼Œå½“ä¸€ä¸ªèŠ‚ç‚¹åªè¿æ¥ä¸¤æ¡è¾¹ï¼Œå°±æ˜¯NOï¼Œå¦åˆ™å°±æ˜¯YES</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> vis[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,x,y;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">int</span> s=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span> vis);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n<span class="number">-1</span>; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;x,&amp;y);</span><br><span class="line">        vis[x]++;</span><br><span class="line">        vis[y]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> flag=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(vis[i] == <span class="number">2</span>)&#123;</span><br><span class="line">            flag=<span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag) <span class="built_in">puts</span>(<span class="string">"YES"</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"NO"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="E-Count-Pairs"><a href="#E-Count-Pairs" class="headerlink" title="E. Count Pairs"></a><a href="https://codeforces.com/contest/1189/problem/E" target="_blank" rel="noopener">E. Count Pairs</a></h2><p>é¢˜æ„: æœ‰ä¸€ä¸ªæ•°ç»„aï¼Œç»™å®šä¸€ä¸ªç´ æ•°på’Œä¸€ä¸ªå°äºpçš„æ•°kï¼Œé—®èƒ½æ‰¾åˆ°å¤šå°‘ç»„(i,j),ä½¿å¾— $(a_i+a_j)*(a_i^2+a_j^2) \equiv k\ mod \ p$</p><p>è§£æ: ä¸¤è¾¹åŒæ—¶ä¹˜$a_i - a_j$ï¼Œå°±å˜æˆäº†$(a_i^4-a_j^4)$ $ \equiv $ $(k * a_i-k * a_j)$ $\ mod \ p$ ,è½¬æ¢å°±æ˜¯$({a_i^4}-k * {a_i})$ $ \equiv $ $(k * {a_j^4} - k * {a_j}) $ $\ mod \ p$</p><p>åªè¦å¦$b_i = a_i^4 - k* a_i$ å°±å¯ä»¥é€šè¿‡mapç»Ÿè®¡ä¸ªæ•°äº†,æ³¨æ„å–æ¨¡</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line">ll a,b;</span><br><span class="line">ll n,p,k;</span><br><span class="line"><span class="built_in">map</span>&lt;ll,ll&gt;ma;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld %lld %lld"</span>,&amp;n,&amp;p,&amp;k);</span><br><span class="line">    ll cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;a);</span><br><span class="line">        b=(a*a%p*a%p*a%p-a*k%p+p)%p;</span><br><span class="line">        <span class="comment">//printf("%lld %lld\n",b,(a*a*a*a-a*k+p)%p);</span></span><br><span class="line">        ma[b]++;</span><br><span class="line">        cnt+=(ma[b]<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,cnt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;del&gt;è¿™åœºæ¯”è¾ƒç®€å•&lt;/del&gt;ï¼Œæ·±å¤œè‚é¢˜ï¼Œç²¾ç¥æŠ–æ“.jpgï¼Œä¸è¿‡æ¶¨åˆ†å°±å¾ˆèˆ’æœ&lt;/p&gt;
    
    </summary>
    
      <category term="codeforces" scheme="http://yoursite.com/categories/codeforces/"/>
    
    
  </entry>
  
</feed>
